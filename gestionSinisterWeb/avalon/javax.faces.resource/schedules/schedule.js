/*!
 * FullCalendar v2.9.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(bv,a6){var w=bv.fullCalendar={version:"<%= meta.version %>",internalApiVersion:5};var X=w.views={};bv.fn.fullCalendar=function(bL){var bK=Array.prototype.slice.call(arguments,1);var bM=this;this.each(function(bP,bN){var bO=bv(bN);var bR=bO.data("fullCalendar");var bQ;if(typeof bL==="string"){if(bR&&bv.isFunction(bR[bL])){bQ=bR[bL].apply(bR,bK);if(!bP){bM=bQ}if(bL==="destroy"){bO.removeData("fullCalendar")}}}else{if(!bR){bR=new u(bO,bL);bO.data("fullCalendar",bR);bR.render()}}});return bM};var Z=["header","buttonText","buttonIcons","themeButtonIcons"];function aS(bK){return bG(bK,Z)}function a1(bL){var bM={views:bL.views||{}};var bK;bv.each(bL,function(bN,bO){if(bN!="views"){if(bv.isPlainObject(bO)&&!/(time|duration|interval)$/i.test(bN)&&bv.inArray(bN,Z)==-1){bK=null;bv.each(bO,function(bQ,bP){if(/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(bQ)){if(!bM.views[bQ]){bM.views[bQ]={}}bM.views[bQ][bN]=bP}else{if(!bK){bK={}}bK[bQ]=bP}});if(bK){bM[bN]=bK}}else{bM[bN]=bO}}});return bM}w.intersectRanges=e;w.applyAll=x;w.debounce=bc;w.isInt=bz;w.htmlEscape=aI;w.cssToStr=K;w.proxy=aA;w.capitaliseFirstLetter=n;function ap(bL,bK){if(bK.left){bL.css({"border-left-width":1,"margin-left":bK.left-1})}if(bK.right){bL.css({"border-right-width":1,"margin-right":bK.right-1})}}function H(bK){bK.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function bw(){bv("body").addClass("fc-not-allowed")}function an(){bv("body").removeClass("fc-not-allowed")}function Y(bP,bO,bL){var bM=Math.floor(bO/bP.length);var bK=Math.floor(bO-bM*(bP.length-1));var bQ=[];var bR=[];var bN=[];var bS=0;k(bP);bP.each(function(bU,bV){var bW=bU===bP.length-1?bK:bM;var bT=bv(bV).outerHeight(true);if(bT<bW){bQ.push(bV);bR.push(bT);bN.push(bv(bV).height())}else{bS+=bT}});if(bL){bO-=bS;bM=Math.floor(bO/bQ.length);bK=Math.floor(bO-bM*(bQ.length-1))}bv(bQ).each(function(bV,bW){var bY=bV===bQ.length-1?bK:bM;var bU=bR[bV];var bX=bN[bV];var bT=bY-(bU-bX);if(bU<bY){bv(bW).height(bT)}})}function k(bK){bK.height("")}function R(bK){var bL=0;bK.find("> span").each(function(bN,bO){var bM=bv(bO).outerWidth();if(bM>bL){bL=bM}});bL++;bK.width(bL);return bL}function q(bK,bN){var bL=bK.add(bN);var bM;bL.css({position:"relative",left:-1});bM=bK.outerHeight()-bN.outerHeight();bL.css({position:"",left:""});return bM}w.getOuterRect=al;w.getClientRect=A;w.getContentRect=ag;w.getScrollbarWidths=a;function bo(bL){var bK=bL.css("position"),bM=bL.parents().filter(function(){var bN=bv(this);return(/(auto|scroll)/).test(bN.css("overflow")+bN.css("overflow-y")+bN.css("overflow-x"))}).eq(0);return bK==="fixed"||!bM.length?bv(bL[0].ownerDocument||document):bM}function al(bL,bK){var bO=bL.offset();var bN=bO.left-(bK?bK.left:0);var bM=bO.top-(bK?bK.top:0);return{left:bN,right:bN+bL.outerWidth(),top:bM,bottom:bM+bL.outerHeight()}}function A(bM,bK){var bP=bM.offset();var bL=a(bM);var bO=bP.left+bC(bM,"border-left-width")+bL.left-(bK?bK.left:0);var bN=bP.top+bC(bM,"border-top-width")+bL.top-(bK?bK.top:0);return{left:bO,right:bO+bM[0].clientWidth,top:bN,bottom:bN+bM[0].clientHeight}}function ag(bL,bK){var bO=bL.offset();var bN=bO.left+bC(bL,"border-left-width")+bC(bL,"padding-left")-(bK?bK.left:0);var bM=bO.top+bC(bL,"border-top-width")+bC(bL,"padding-top")-(bK?bK.top:0);return{left:bN,right:bN+bL.width(),top:bM,bottom:bM+bL.height()}}function a(bK){var bM=bK.innerWidth()-bK[0].clientWidth;var bL={left:0,right:0,top:0,bottom:bK.innerHeight()-bK[0].clientHeight};if(bn()&&bK.css("direction")=="rtl"){bL.left=bM}else{bL.right=bM}return bL}var D=null;function bn(){if(D===null){D=ax()}return D}function ax(){var bL=bv("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bM=bL.children();var bK=bM.offset().left>bL.offset().left;bL.remove();return bK}function bC(bK,bL){return parseFloat(bK.css(bL))||0}w.preventDefault=bB;function bF(bK){return bK.which==1&&!bK.ctrlKey}function Q(bK){if(bK.pageX!==undefined){return bK.pageX}var bL=bK.originalEvent.touches;if(bL){return bL[0].pageX}}function P(bK){if(bK.pageY!==undefined){return bK.pageY}var bL=bK.originalEvent.touches;if(bL){return bL[0].pageY}}function aP(bK){return/^touch/.test(bK.type)}function z(bK){bK.addClass("fc-unselectable").on("selectstart",bB)}function bB(bK){bK.preventDefault()}function o(bK){if(window.addEventListener){window.addEventListener("scroll",bK,true);return true}return false}function ba(bK){if(window.removeEventListener){window.removeEventListener("scroll",bK,true);return true}return false}w.intersectRects=c;function c(bL,bK){var bM={left:Math.max(bL.left,bK.left),right:Math.min(bL.right,bK.right),top:Math.max(bL.top,bK.top),bottom:Math.min(bL.bottom,bK.bottom)};if(bM.left<bM.right&&bM.top<bM.bottom){return bM}return false}function aF(bK,bL){return{left:Math.min(Math.max(bK.left,bL.left),bL.right),top:Math.min(Math.max(bK.top,bL.top),bL.bottom)}}function aV(bK){return{left:(bK.left+bK.right)/2,top:(bK.top+bK.bottom)/2}}function bu(bL,bK){return{left:bL.left-bK.left,top:bL.top-bK.top}}w.parseFieldSpecs=az;w.compareByFieldSpecs=be;w.compareByFieldSpec=y;w.flexibleCompare=L;function az(bK){var bO=[];var bN=[];var bM,bL;if(typeof bK==="string"){bN=bK.split(/\s*,\s*/)}else{if(typeof bK==="function"){bN=[bK]}else{if(bv.isArray(bK)){bN=bK}}}for(bM=0;bM<bN.length;bM++){bL=bN[bM];if(typeof bL==="string"){bO.push(bL.charAt(0)=="-"?{field:bL.substring(1),order:-1}:{field:bL,order:1})}else{if(typeof bL==="function"){bO.push({func:bL})}}}return bO}function be(bN,bM,bO){var bK;var bL;for(bK=0;bK<bO.length;bK++){bL=y(bN,bM,bO[bK]);if(bL){return bL}}return 0}function y(bM,bK,bL){if(bL.func){return bL.func(bM,bK)}return L(bM[bL.field],bK[bL.field])*(bL.order||1)}function L(bL,bK){if(!bL&&!bK){return 0}if(bK==null){return -1}if(bL==null){return 1}if(bv.type(bL)==="string"||bv.type(bK)==="string"){return String(bL).localeCompare(String(bK))}return bL-bK}function e(bS,bL){var bO=bS.start;var bM=bS.end;var bR=bL.start;var bP=bL.end;var bQ,bT;var bK,bN;if(bM>bR&&bO<bP){if(bO>=bR){bQ=bO.clone();bK=true}else{bQ=bR.clone();bK=false}if(bM<=bP){bT=bM.clone();bN=true}else{bT=bP.clone();bN=false}return{start:bQ,end:bT,isStart:bK,isEnd:bN}}}w.computeIntervalUnit=aw;w.divideRangeByDuration=m;w.divideDurationByDuration=C;w.multiplyDuration=ao;w.durationHasTime=aa;var aN=["sun","mon","tue","wed","thu","fri","sat"];var aE=["year","month","week","day","hour","minute","second","millisecond"];function f(bL,bK){return a6.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days"),ms:bL.time()-bK.time()})}function ac(bL,bK){return a6.duration({days:bL.clone().stripTime().diff(bK.clone().stripTime(),"days")})}function d(bL,bK,bM){return a6.duration(Math.round(bL.diff(bK,bM,true)),bM)}function aw(bO,bK){var bL,bM;var bN;for(bL=0;bL<aE.length;bL++){bM=aE[bL];bN=aq(bM,bO,bK);if(bN>=1&&bz(bN)){break}}return bM}function aq(bL,bM,bK){if(bK!=null){return bK.diff(bM,bL,true)}else{if(a6.isDuration(bM)){return bM.as(bL)}else{return bM.end.diff(bM.start,bL,true)}}}function m(bN,bL,bM){var bK;if(aa(bM)){return(bL-bN)/bM}bK=bM.asMonths();if(Math.abs(bK)>=1&&bz(bK)){return bL.diff(bN,"months",true)/bK}return bL.diff(bN,"days",true)/bM.asDays()}function C(bM,bL){var bK,bN;if(aa(bM)||aa(bL)){return bM/bL}bK=bM.asMonths();bN=bL.asMonths();if(Math.abs(bK)>=1&&bz(bK)&&Math.abs(bN)>=1&&bz(bN)){return bK/bN}return bM.asDays()/bL.asDays()}function ao(bL,bM){var bK;if(aa(bL)){return a6.duration(bL*bM)}bK=bL.asMonths();if(Math.abs(bK)>=1&&bz(bK)){return a6.duration({months:bK*bM})}return a6.duration({days:bL.asDays()*bM})}function aa(bK){return Boolean(bK.hours()||bK.minutes()||bK.seconds()||bK.milliseconds())}function h(bK){return Object.prototype.toString.call(bK)==="[object Date]"||bK instanceof Date}function ab(bK){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bK)}w.log=function(){var bK=window.console;if(bK&&bK.log){return bK.log.apply(bK,arguments)}};w.warn=function(){var bK=window.console;if(bK&&bK.warn){return bK.warn.apply(bK,arguments)}else{return w.log.apply(w,arguments)}};var aK={}.hasOwnProperty;function bG(bS,bO){var bR={};var bN,bK;var bQ;var bM,bL;var bP;if(bO){for(bN=0;bN<bO.length;bN++){bK=bO[bN];bQ=[];for(bM=bS.length-1;bM>=0;bM--){bL=bS[bM][bK];if(typeof bL==="object"){bQ.unshift(bL)}else{if(bL!==undefined){bR[bK]=bL;break}}}if(bQ.length){bR[bK]=bG(bQ)}}}for(bN=bS.length-1;bN>=0;bN--){bP=bS[bN];for(bK in bP){if(!(bK in bR)){bR[bK]=bP[bK]}}}return bR}function T(bK){var bL=function(){};bL.prototype=bK;return new bL()}function t(bM,bL){for(var bK in bM){if(ae(bM,bK)){bL[bK]=bM[bK]}}}function a5(bO,bL){var bN=["constructor","toString","valueOf"];var bM,bK;for(bM=0;bM<bN.length;bM++){bK=bN[bM];if(bO[bK]!==Object.prototype[bK]){bL[bK]=bO[bK]}}}function ae(bL,bK){return aK.call(bL,bK)}function bq(bK){return/undefined|null|boolean|number|string/.test(bv.type(bK))}function x(bN,bO,bL){if(bv.isFunction(bN)){bN=[bN]}if(bN){var bM;var bK;for(bM=0;bM<bN.length;bM++){bK=bN[bM].apply(bO,bL)||bK}return bK}}function U(){for(var bK=0;bK<arguments.length;bK++){if(arguments[bK]!==undefined){return arguments[bK]}}}function aI(bK){return(bK+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aG(bK){return bK.replace(/&.*?;/g,"")}function K(bL){var bK=[];bv.each(bL,function(bM,bN){if(bN!=null){bK.push(bM+":"+bN)}});return bK.join(";")}function n(bK){return bK.charAt(0).toUpperCase()+bK.slice(1)}function W(bL,bK){return bL-bK}function bz(bK){return bK%1===0}function aA(bL,bK){var bM=bL[bK];return function(){return bM.apply(bL,arguments)}}function bc(bM,bO,bL){var bR,bQ,bK,bP,bS;var bN=function(){var bT=+new Date()-bP;if(bT<bO){bR=setTimeout(bN,bO-bT)}else{bR=null;if(!bL){bS=bM.apply(bK,bQ);bK=bQ=null}}};return function(){bK=this;bQ=arguments;bP=+new Date();var bT=bL&&!bR;if(!bR){bR=setTimeout(bN,bO)}if(bT){bS=bM.apply(bK,bQ);bK=bQ=null}return bS}}function s(bL,bK){if(!bL||!bL.then||bL.state()==="resolved"){return bv.when(bK())}else{if(bK){return bL.then(bK)}}}var bI=/^\s*\d{4}-\d\d$/;var av=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var am=a6.fn;var ay=bv.extend({},am);var aC;var aB;var S;w.moment=function(){return bj(arguments)};w.moment.utc=function(){var bK=bj(arguments,true);if(bK.hasTime()){bK.utc()}return bK};w.moment.parseZone=function(){return bj(arguments,true,true)};function bj(bQ,bP,bO){var bS=bQ[0];var bN=bQ.length==1&&typeof bS==="string";var bM;var bR;var bK;var bL;if(a6.isMoment(bS)){bL=a6.apply(null,bQ);F(bS,bL)}else{if(h(bS)||bS===undefined){bL=a6.apply(null,bQ)}else{bM=false;bR=false;if(bN){if(bI.test(bS)){bS+="-01";bQ=[bS];bM=true;bR=true}else{if((bK=av.exec(bS))){bM=!bK[5];bR=true}}}else{if(bv.isArray(bS)){bR=true}}if(bP||bM){bL=a6.utc.apply(a6,bQ)}else{bL=a6.apply(null,bQ)}if(bM){bL._ambigTime=true;bL._ambigZone=true}else{if(bO){if(bR){bL._ambigZone=true}else{if(bN){if(bL.utcOffset){bL.utcOffset(bS)}else{bL.zone(bS)}}}}}}}bL._fullCalendar=true;return bL}am.clone=function(){var bK=ay.clone.apply(this,arguments);F(this,bK);if(this._fullCalendar){bK._fullCalendar=true}return bK};am.week=am.weeks=function(bL){var bK=(this._locale||this._lang)._fullCalendar_weekCalc;if(bL==null&&typeof bK==="function"){return bK(this)}else{if(bK==="ISO"){return ay.isoWeek.apply(this,arguments)}}return ay.week.apply(this,arguments)};am.time=function(bL){if(!this._fullCalendar){return ay.time.apply(this,arguments)}if(bL==null){return a6.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!a6.isDuration(bL)&&!a6.isMoment(bL)){bL=a6.duration(bL)}var bK=0;if(a6.isDuration(bL)){bK=Math.floor(bL.asDays())*24}return this.hours(bK+bL.hours()).minutes(bL.minutes()).seconds(bL.seconds()).milliseconds(bL.milliseconds())}};am.stripTime=function(){var bK;if(!this._ambigTime){bK=this.toArray();this.utc();aB(this,bK.slice(0,3));this._ambigTime=true;this._ambigZone=true}return this};am.hasTime=function(){return !this._ambigTime};am.stripZone=function(){var bK,bL;if(!this._ambigZone){bK=this.toArray();bL=this._ambigTime;this.utc();aB(this,bK);this._ambigTime=bL||false;this._ambigZone=true}return this};am.hasZone=function(){return !this._ambigZone};am.local=function(){var bK=this.toArray();var bL=this._ambigZone;ay.local.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;if(bL){S(this,bK)}return this};am.utc=function(){ay.utc.apply(this,arguments);this._ambigTime=false;this._ambigZone=false;return this};bv.each(["zone","utcOffset"],function(bL,bK){if(ay[bK]){am[bK]=function(bM){if(bM!=null){this._ambigTime=false;this._ambigZone=false}return ay[bK].apply(this,arguments)}}});am.format=function(){if(this._fullCalendar&&arguments[0]){return l(this,arguments[0])}if(this._ambigTime){return af(this,"YYYY-MM-DD")}if(this._ambigZone){return af(this,"YYYY-MM-DD[T]HH:mm:ss")}return ay.format.apply(this,arguments)};am.toISOString=function(){if(this._ambigTime){return af(this,"YYYY-MM-DD")}if(this._ambigZone){return af(this,"YYYY-MM-DD[T]HH:mm:ss")}return ay.toISOString.apply(this,arguments)};am.isWithin=function(bM,bL){var bK=bf([this,bM,bL]);return bK[0]>=bK[1]&&bK[0]<bK[2]};am.isSame=function(bM,bL){var bK;if(!this._fullCalendar){return ay.isSame.apply(this,arguments)}if(bL){bK=bf([this,bM],true);return ay.isSame.call(bK[0],bK[1],bL)}else{bM=w.moment.parseZone(bM);return ay.isSame.call(this,bM)&&Boolean(this._ambigTime)===Boolean(bM._ambigTime)&&Boolean(this._ambigZone)===Boolean(bM._ambigZone)}};bv.each(["isBefore","isAfter"],function(bL,bK){am[bK]=function(bO,bN){var bM;if(!this._fullCalendar){return ay[bK].apply(this,arguments)}bM=bf([this,bO]);return ay[bK].call(bM[0],bM[1],bN)}});function bf(bL,bR){var bN=false;var bQ=false;var bK=bL.length;var bM=[];var bO,bP;for(bO=0;bO<bK;bO++){bP=bL[bO];if(!a6.isMoment(bP)){bP=w.moment.parseZone(bP)}bN=bN||bP._ambigTime;bQ=bQ||bP._ambigZone;bM.push(bP)}for(bO=0;bO<bK;bO++){bP=bM[bO];if(!bR&&bN&&!bP._ambigTime){bM[bO]=bP.clone().stripTime()}else{if(bQ&&!bP._ambigZone){bM[bO]=bP.clone().stripZone()}}}return bM}function F(bL,bK){if(bL._ambigTime){bK._ambigTime=true}else{if(bK._ambigTime){bK._ambigTime=false}}if(bL._ambigZone){bK._ambigZone=true}else{if(bK._ambigZone){bK._ambigZone=false}}}function bx(bL,bK){bL.year(bK[0]||0).month(bK[1]||0).date(bK[2]||0).hours(bK[3]||0).minutes(bK[4]||0).seconds(bK[5]||0).milliseconds(bK[6]||0)}aC="_d" in a6()&&"updateOffset" in a6;aB=aC?function(bL,bK){bL._d.setTime(Date.UTC.apply(Date,bK));a6.updateOffset(bL,false)}:bx;S=aC?function(bL,bK){bL._d.setTime(+new Date(bK[0]||0,bK[1]||0,bK[2]||0,bK[3]||0,bK[4]||0,bK[5]||0,bK[6]||0));a6.updateOffset(bL,false)}:bx;function af(bL,bK){return ay.format.call(bL,bK)}function l(bL,bK){return a4(bL,ad(bK))}function a4(bK,bN){var bM="";var bL;for(bL=0;bL<bN.length;bL++){bM+=bp(bK,bN[bL])}return bM}var aj={t:function(bK){return af(bK,"a").charAt(0)},T:function(bK){return af(bK,"A").charAt(0)}};function bp(bL,bK){var bM;var bN;if(typeof bK==="string"){return bK}else{if((bM=bK.token)){if(aj[bM]){return aj[bM](bL)}return af(bL,bM)}else{if(bK.maybe){bN=a4(bL,bK.maybe);if(bN.match(/[1-9]/)){return bN}}}}return""}function bl(bP,bN,bK,bO,bL){var bM;bP=w.moment.parseZone(bP);bN=w.moment.parseZone(bN);bM=(bP.localeData||bP.lang).call(bP);bK=bM.longDateFormat(bK)||bK;bO=bO||" - ";return bD(bP,bN,ad(bK),bO,bL)}w.formatRange=bl;function bD(bZ,bY,bR,bQ,bL){var bP=bZ.clone().stripZone();var bM=bY.clone().stripZone();var bV;var bX;var bO="";var bK;var bT="";var bW;var bU="";var bS="";var bN="";for(bX=0;bX<bR.length;bX++){bV=ai(bZ,bY,bP,bM,bR[bX]);if(bV===false){break}bO+=bV}for(bK=bR.length-1;bK>bX;bK--){bV=ai(bZ,bY,bP,bM,bR[bK]);if(bV===false){break}bT=bV+bT}for(bW=bX;bW<=bK;bW++){bU+=bp(bZ,bR[bW]);bS+=bp(bY,bR[bW])}if(bU||bS){if(bL){bN=bS+bQ+bU}else{bN=bU+bQ+bS}}return bO+bN+bT}var j={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function ai(bQ,bO,bP,bN,bK){var bL;var bM;if(typeof bK==="string"){return bK}else{if((bL=bK.token)){bM=j[bL.charAt(0)];if(bM&&bP.isSame(bN,bM)){return af(bQ,bL)}}}return false}var bE={};function ad(bK){if(bK in bE){return bE[bK]}return(bE[bK]=r(bK))}function r(bL){var bN=[];var bK=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var bM;while((bM=bK.exec(bL))){if(bM[1]){bN.push(bM[1])}else{if(bM[2]){bN.push({maybe:r(bM[2])})}else{if(bM[3]){bN.push({token:bM[3]})}else{if(bM[5]){bN.push(bM[5])}}}}}return bN}w.Class=ar;function ar(){}ar.extend=function(){var bK=arguments.length;var bM;var bL;for(bM=0;bM<bK;bM++){bL=arguments[bM];if(bM<bK-1){aU(this,bL)}}return aX(this,bL||{})};ar.mixin=function(bK){aU(this,bK)};function aX(bL,bK){var bM;if(ae(bK,"constructor")){bM=bK.constructor}if(typeof bM!=="function"){bM=bK.constructor=function(){bL.apply(this,arguments)}}bM.prototype=T(bL.prototype);t(bK,bM.prototype);a5(bK,bM.prototype);t(bL,bM);return bM}function aU(bL,bK){t(bK,bL.prototype)}var v=w.EmitterMixin={on:function(bK,bL){var bM=function(bO,bN){return bL.apply(bN.context||this,bN.args||[])};if(!bL.guid){bL.guid=bv.guid++}bM.guid=bL.guid;bv(this).on(bK,bM);return this},off:function(bK,bL){bv(this).off(bK,bL);return this},trigger:function(bL){var bK=Array.prototype.slice.call(arguments,1);bv(this).triggerHandler(bL,{args:bK});return this},triggerWith:function(bM,bL,bK){bv(this).triggerHandler(bM,{context:bL,args:bK});return this}};var ak=w.ListenerMixin=(function(){var bK=0;var bL={listenerId:null,listenTo:function(bN,bM,bP){if(typeof bM==="object"){for(var bO in bM){if(bM.hasOwnProperty(bO)){this.listenTo(bN,bO,bM[bO])}}}else{if(typeof bM==="string"){bN.on(bM+"."+this.getListenerNamespace(),bv.proxy(bP,this))}}},stopListeningTo:function(bM,bN){bM.off((bN||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=bK++}return"_listener"+this.listenerId}};return bL})();var a8={isIgnoringMouse:false,delayUnignoreMouse:null,initMouseIgnoring:function(bK){this.delayUnignoreMouse=bc(aA(this,"unignoreMouse"),bK||1000)},tempIgnoreMouse:function(){this.isIgnoringMouse=true;this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=false}};var aY=ar.extend(ak,{isHidden:true,options:null,el:null,margin:10,constructor:function(bK){this.options=bK||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bL=this;var bK=this.options;this.el=bv('<div class="fc-popover"/>').addClass(bK.className||"").css({top:0,left:0}).append(bK.content).appendTo(bK.parentEl);this.el.on("click",".fc-close",function(){bL.hide()});if(bK.autoHide){this.listenTo(bv(document),"mousedown",this.documentMousedown)}},documentMousedown:function(bK){if(this.el&&!bv(bK.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(bv(document),"mousedown")},position:function(){var bU=this.options;var bQ=this.el.offsetParent().offset();var bK=this.el.outerWidth();var bS=this.el.outerHeight();var bR=bv(window);var bP=bo(this.el);var bL;var bN;var bT;var bO;var bM;bO=bU.top||0;if(bU.left!==undefined){bM=bU.left}else{if(bU.right!==undefined){bM=bU.right-bK}else{bM=0}}if(bP.is(window)||bP.is(document)){bP=bR;bL=0;bN=0}else{bT=bP.offset();bL=bT.top;bN=bT.left}bL+=bR.scrollTop();bN+=bR.scrollLeft();if(bU.viewportConstrain!==false){bO=Math.min(bO,bL+bP.outerHeight()-bS-this.margin);bO=Math.max(bO,bL+this.margin);bM=Math.min(bM,bN+bP.outerWidth()-bK-this.margin);bM=Math.max(bM,bN+this.margin)}this.el.css({top:bO-bQ.top,left:bM-bQ.left})},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}}});var ah=w.CoordCache=ar.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bK){this.els=bv(bK.els);this.isHorizontal=bK.isHorizontal;this.isVertical=bK.isVertical;this.forcedOffsetParentEl=bK.offsetParent?bv(bK.offsetParent):null},build:function(){var bK=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=bK.offset();this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var bL=[];var bK=[];this.els.each(function(bM,bP){var bO=bv(bP);var bQ=bO.offset().left;var bN=bO.outerWidth();bL.push(bQ);bK.push(bQ+bN)});this.lefts=bL;this.rights=bK},buildElVerticals:function(){var bK=[];var bL=[];this.els.each(function(bN,bP){var bO=bv(bP);var bQ=bO.offset().top;var bM=bO.outerHeight();bK.push(bQ);bL.push(bQ+bM)});this.tops=bK;this.bottoms=bL},getHorizontalIndex:function(bM){this.ensureBuilt();var bO=this.lefts;var bN=this.rights;var bK=bO.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bO[bL]&&bM<bN[bL]){return bL}}},getVerticalIndex:function(bM){this.ensureBuilt();var bN=this.tops;var bO=this.bottoms;var bK=bN.length;var bL;for(bL=0;bL<bK;bL++){if(bM>=bN[bL]&&bM<bO[bL]){return bL}}},getLeftOffset:function(bK){this.ensureBuilt();return this.lefts[bK]},getLeftPosition:function(bK){this.ensureBuilt();return this.lefts[bK]-this.origin.left},getRightOffset:function(bK){this.ensureBuilt();return this.rights[bK]},getRightPosition:function(bK){this.ensureBuilt();return this.rights[bK]-this.origin.left},getWidth:function(bK){this.ensureBuilt();return this.rights[bK]-this.lefts[bK]},getTopOffset:function(bK){this.ensureBuilt();return this.tops[bK]},getTopPosition:function(bK){this.ensureBuilt();return this.tops[bK]-this.origin.top},getBottomOffset:function(bK){this.ensureBuilt();return this.bottoms[bK]},getBottomPosition:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.origin.top},getHeight:function(bK){this.ensureBuilt();return this.bottoms[bK]-this.tops[bK]},queryBoundingRect:function(){var bK=bo(this.els.eq(0));if(!bK.is(document)){return A(bK)}},isPointInBounds:function(bL,bK){return this.isLeftInBounds(bL)&&this.isTopInBounds(bK)},isLeftInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.left&&bK<this.boundingRect.right)},isTopInBounds:function(bK){return !this.boundingRect||(bK>=this.boundingRect.top&&bK<this.boundingRect.bottom)}});var bk=w.DragListener=ar.extend(ak,a8,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(bK){this.options=bK||{};this.handleTouchScrollProxy=aA(this,"handleTouchScroll");this.initMouseIgnoring(500)},startInteraction:function(bM,bL){var bK=aP(bM);if(bM.type==="mousedown"){if(this.isIgnoringMouse){return}else{if(!bF(bM)){return}else{bM.preventDefault()}}}if(!this.isInteracting){bL=bL||{};this.delay=U(bL.delay,this.options.delay,0);this.minDistance=U(bL.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;this.isInteracting=true;this.isTouch=bK;this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=Q(bM);this.originY=P(bM);this.scrollEl=bo(bv(bM.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(bM);this.startDelay(bM);if(!this.minDistance){this.handleDistanceSurpassed(bM)}}},handleInteractionStart:function(bK){this.trigger("interactionStart",bK)},endInteraction:function(bK,bL){if(this.isInteracting){this.endDrag(bK);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(bK,bL);if(this.isTouch){this.tempIgnoreMouse()}}},handleInteractionEnd:function(bK,bL){this.trigger("interactionEnd",bK,bL||false)},bindHandlers:function(){var bL=this;var bK=1;if(this.isTouch){this.listenTo(bv(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(bM){if(bK){bK--}else{bL.endInteraction(bM,true)}}});if(!o(this.handleTouchScrollProxy)&&this.scrollEl){this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)}}else{this.listenTo(bv(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}this.listenTo(bv(document),{selectstart:bB,contextmenu:bB})},unbindHandlers:function(){this.stopListeningTo(bv(document));ba(this.handleTouchScrollProxy);if(this.scrollEl){this.stopListeningTo(this.scrollEl,"scroll")}},startDrag:function(bL,bK){this.startInteraction(bL,bK);if(!this.isDragging){this.isDragging=true;this.handleDragStart(bL)}},handleDragStart:function(bK){this.trigger("dragStart",bK);this.initHrefHack()},handleMove:function(bN){var bM=Q(bN)-this.originX;var bK=P(bN)-this.originY;var bO=this.minDistance;var bL;if(!this.isDistanceSurpassed){bL=bM*bM+bK*bK;if(bL>=bO*bO){this.handleDistanceSurpassed(bN)}}if(this.isDragging){this.handleDrag(bM,bK,bN)}},handleDrag:function(bL,bK,bM){this.trigger("drag",bL,bK,bM);this.updateAutoScroll(bM)},endDrag:function(bK){if(this.isDragging){this.isDragging=false;this.handleDragEnd(bK)}},handleDragEnd:function(bK){this.trigger("dragEnd",bK);this.destroyHrefHack()},startDelay:function(bK){var bL=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){bL.handleDelayEnd(bK)},this.delay)}else{this.handleDelayEnd(bK)}},handleDelayEnd:function(bK){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(bK)}},handleDistanceSurpassed:function(bK){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(bK)}},handleTouchMove:function(bK){if(this.isDragging){bK.preventDefault()}this.handleMove(bK)},handleMouseMove:function(bK){this.handleMove(bK)},handleTouchScroll:function(bK){if(!this.isDragging){this.endInteraction(bK,true)}},initHrefHack:function(){var bK=this.subjectEl;if((this.subjectHref=bK?bK.attr("href"):null)){bK.removeAttr("href")}},destroyHrefHack:function(){var bL=this.subjectEl;var bK=this.subjectHref;setTimeout(function(){if(bK){bL.attr("href",bK)}},0)},trigger:function(bK){if(this.options[bK]){this.options[bK].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+bK]){this["_"+bK].apply(this,Array.prototype.slice.call(arguments,1))}}});bk.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var bK=this.scrollEl;this.isAutoScroll=this.options.scroll&&bK&&!bK.is(window)&&!bK.is(document);if(this.isAutoScroll){this.listenTo(bK,"scroll",bc(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=al(this.scrollEl)}},updateAutoScroll:function(bQ){var bM=this.scrollSensitivity;var bK=this.scrollBounds;var bL,bN;var bR,bS;var bP=0;var bO=0;if(bK){bL=(bM-(P(bQ)-bK.top))/bM;bN=(bM-(bK.bottom-P(bQ)))/bM;bR=(bM-(Q(bQ)-bK.left))/bM;bS=(bM-(bK.right-Q(bQ)))/bM;if(bL>=0&&bL<=1){bP=bL*this.scrollSpeed*-1}else{if(bN>=0&&bN<=1){bP=bN*this.scrollSpeed}}if(bR>=0&&bR<=1){bO=bR*this.scrollSpeed*-1}else{if(bS>=0&&bS<=1){bO=bS*this.scrollSpeed}}}this.setScrollVel(bP,bO)},setScrollVel:function(bL,bK){this.scrollTopVel=bL;this.scrollLeftVel=bK;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(aA(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bK=this.scrollEl;if(this.scrollTopVel<0){if(bK.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bK.scrollTop()+bK[0].clientHeight>=bK[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bK.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bK.scrollLeft()+bK[0].clientWidth>=bK[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bL=this.scrollEl;var bK=this.scrollIntervalMs/1000;if(this.scrollTopVel){bL.scrollTop(bL.scrollTop()+this.scrollTopVel*bK)}if(this.scrollLeftVel){bL.scrollLeft(bL.scrollLeft()+this.scrollLeftVel*bK)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var at=bk.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bL,bK){bk.call(this,bK);this.component=bL},handleInteractionStart:function(bO){var bL=this.subjectEl;var bM;var bN;var bK;this.computeCoords();if(bO){bN={left:Q(bO),top:P(bO)};bK=bN;if(bL){bM=al(bL);bK=aF(bK,bM)}this.origHit=this.queryHit(bK.left,bK.top);if(bL&&this.options.subjectCenter){if(this.origHit){bM=c(this.origHit,bM)||bM}bK=aV(bM)}this.coordAdjust=bu(bK,bN)}else{this.origHit=null;this.coordAdjust=null}bk.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},handleDragStart:function(bK){var bL;bk.prototype.handleDragStart.apply(this,arguments);bL=this.queryHit(Q(bK),P(bK));if(bL){this.handleHitOver(bL)}},handleDrag:function(bL,bK,bM){var bN;bk.prototype.handleDrag.apply(this,arguments);bN=this.queryHit(Q(bM),P(bM));if(!bA(bN,this.hit)){if(this.hit){this.handleHitOut()}if(bN){this.handleHitOver(bN)}}},handleDragEnd:function(){this.handleHitDone();bk.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(bL){var bK=bA(bL,this.origHit);this.hit=bL;this.trigger("hitOver",this.hit,bK,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bk.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.releaseHits()},handleScrollEnd:function(){bk.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(bL,bK){if(this.coordAdjust){bL+=this.coordAdjust.left;bK+=this.coordAdjust.top}return this.component.queryHit(bL,bK)}});function bA(bL,bK){if(!bL&&!bK){return true}if(bL&&bK){return bL.component===bK.component&&au(bL,bK)&&au(bK,bL)}return false}function au(bK,bL){for(var bM in bK){if(!/^(component|left|right|top|bottom)$/.test(bM)){if(bK[bM]!==bL[bM]){return false}}}return true}var bb=ar.extend(ak,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bK,bL){this.options=bL=bL||{};this.sourceEl=bK;this.parentEl=bL.parentEl?bv(bL.parentEl):bK.parent()},start:function(bK){if(!this.isFollowing){this.isFollowing=true;this.y0=P(bK);this.x0=Q(bK);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(aP(bK)){this.listenTo(bv(document),"touchmove",this.handleMove)}else{this.listenTo(bv(document),"mousemove",this.handleMove)}}},stop:function(bL,bO){var bN=this;var bM=this.options.revertDuration;function bK(){bN.isAnimating=false;bN.removeElement();bN.top0=bN.left0=null;if(bO){bO()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(bv(document));if(bL&&bM&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bM,complete:bK})}else{bK()}}},getEl:function(){var bK=this.el;if(!bK){this.sourceEl.width();bK=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});bK.addClass("fc-unselectable");bK.appendTo(this.parentEl)}return bK},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bL;var bK;this.getEl();if(this.top0===null){this.sourceEl.width();bL=this.sourceEl.offset();bK=this.el.offsetParent().offset();this.top0=bL.top-bK.top;this.left0=bL.left-bK.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(bK){this.topDelta=P(bK)-this.y0;this.leftDelta=Q(bK)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aD=w.Grid=ar.extend(ak,a8,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(bK){this.view=bK;this.isRTL=bK.opt("isRTL");this.elsByFill={};this.dayDragListener=this.buildDayDragListener();this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bK){this.start=bK.start.clone();this.end=bK.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bL=this.view;var bK;var bM;this.eventTimeFormat=bL.opt("eventTimeFormat")||bL.opt("timeFormat")||this.computeEventTimeFormat();bK=bL.opt("displayEventTime");if(bK==null){bK=this.computeDisplayEventTime()}bM=bL.opt("displayEventEnd");if(bM==null){bM=this.computeDisplayEventEnd()}this.displayEventTime=bK;this.displayEventEnd=bM},spanToSegs:function(bK){},diffDates:function(bL,bK){if(this.largeUnit){return d(bL,bK,this.largeUnit)}else{return f(bL,bK)}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bL,bK){},getHitSpan:function(bK){},getHitEl:function(bK){},setElement:function(bK){this.el=bK;z(bK);this.bindDayHandler("touchstart",this.dayTouchStart);this.bindDayHandler("mousedown",this.dayMousedown);this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(bK,bL){var bM=this;this.el.on(bK,function(bN){if(!bv(bN.target).is(".fc-event-container *, .fc-more")){return bL.call(bM,bN)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(bv(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(bv(document))},dayMousedown:function(bK){if(!this.isIgnoringMouse){this.dayDragListener.startInteraction(bK,{})}},dayTouchStart:function(bL){var bK=this.view;if(bK.isSelected||bK.selectedEvent){this.tempIgnoreMouse()}this.dayDragListener.startInteraction(bL,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var bP=this;var bL=this.view;var bK=bL.opt("selectable");var bM;var bO;var bN=new at(this,{scroll:bL.opt("dragScroll"),interactionStart:function(){bM=bN.origHit;bO=null},dragStart:function(){bL.unselect()},hitOver:function(bR,bQ,bS){if(bS){if(!bQ){bM=null}if(bK){bO=bP.computeSelection(bP.getHitSpan(bS),bP.getHitSpan(bR));if(bO){bP.renderSelection(bO)}else{if(bO===false){bw()}}}}},hitOut:function(){bM=null;bO=null;bP.unrenderSelection()},hitDone:function(){an()},interactionEnd:function(bQ,bR){if(!bR){if(bM&&!bP.isIgnoringMouse){bL.triggerDayClick(bP.getHitSpan(bM),bP.getHitEl(bM),bQ)}if(bO){bL.reportSelection(bO,bQ)}}}});return bN},clearDragListeners:function(){this.dayDragListener.endInteraction();if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(bL,bK){var bM=this.fabricateHelperEvent(bL,bK);return this.renderHelper(bM,bK)},fabricateHelperEvent:function(bL,bK){var bM=bK?T(bK.event):{};bM.start=bL.start.clone();bM.end=bL.end?bL.end.clone():null;bM.allDay=null;this.view.calendar.normalizeEventDates(bM);bM.className=(bM.className||[]).concat("fc-helper");if(!bK){bM.editable=false}return bM},renderHelper:function(bL,bK){},unrenderHelper:function(){},renderSelection:function(bK){this.renderHighlight(bK)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bM,bK){var bL=this.computeSelectionSpan(bM,bK);if(bL&&!this.view.calendar.isSelectionSpanAllowed(bL)){return false}return bL},computeSelectionSpan:function(bL,bK){var bM=[bL.start,bL.end,bK.start,bK.end];bM.sort(W);return{start:bM[0].clone(),end:bM[3].clone()}},renderHighlight:function(bK){this.renderFill("highlight",this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},renderFill:function(bL,bK){},unrenderFill:function(bL){var bK=this.elsByFill[bL];if(bK){bK.remove();delete this.elsByFill[bL]}},renderFillSegEls:function(bP,bL){var bQ=this;var bK=this[bP+"SegEl"];var bO="";var bN=[];var bM;if(bL.length){for(bM=0;bM<bL.length;bM++){bO+=this.fillSegHtml(bP,bL[bM])}bv(bO).each(function(bS,bU){var bR=bL[bS];var bT=bv(bU);if(bK){bT=bK.call(bQ,bR,bT)}if(bT){bT=bv(bT);if(bT.is(bQ.fillSegTag)){bR.el=bT;bN.push(bR)}}})}return bN},fillSegTag:"div",fillSegHtml:function(bO,bK){var bP=this[bO+"SegClasses"];var bL=this[bO+"SegCss"];var bN=bP?bP.call(this,bK):[];var bM=K(bL?bL.call(this,bK):{});return"<"+this.fillSegTag+(bN.length?' class="'+bN.join(" ")+'"':"")+(bM?' style="'+bM+'"':"")+" />"},getDayClasses:function(bM){var bK=this.view;var bL=bK.calendar.getNow();var bN=["fc-"+aN[bM.day()]];if(bK.intervalDuration.as("months")==1&&bM.month()!=bK.intervalStart.month()){bN.push("fc-other-month")}if(bM.isSame(bL,"day")){bN.push("fc-today",bK.highlightStateClass)}else{if(bM<bL){bN.push("fc-past")}else{bN.push("fc-future")}}return bN}});aD.mixin({mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bN){var bM=[];var bK=[];var bL;for(bL=0;bL<bN.length;bL++){(V(bN[bL])?bM:bK).push(bN[bL])}this.segs=[].concat(this.renderBgEvents(bM),this.renderFgEvents(bK))},renderBgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderBgSegs(bK)||bK},renderFgEvents:function(bL){var bK=this.eventsToSegs(bL);return this.renderFgSegs(bK)||bK},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bK){},unrenderFgSegs:function(){},renderFgSegEls:function(bM,bL){var bK=this.view;var bP="";var bO=[];var bN;if(bM.length){for(bN=0;bN<bM.length;bN++){bP+=this.fgSegHtml(bM[bN],bL)}bv(bP).each(function(bR,bT){var bQ=bM[bR];var bS=bK.resolveEventEl(bQ.event,bv(bT));if(bS){bS.data("fc-seg",bQ);bQ.el=bS;bO.push(bQ)}})}return bO},fgSegHtml:function(bL,bK){},renderBgSegs:function(bK){return this.renderFill("bgEvent",bK)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bK,bL){return this.view.resolveEventEl(bK.event,bL)},bgEventSegClasses:function(bK){var bL=bK.event;var bM=bL.source||{};return["fc-bgevent"].concat(bL.className,bM.className||[])},bgEventSegCss:function(bK){return{"background-color":this.getSegSkinCss(bK)["background-color"]}},businessHoursSegClasses:function(bK){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(bK){var bL=this.view.calendar.getCurrentBusinessHourEvents(bK);if(!bL.length&&this.view.calendar.options.businessHours){bL=[bv.extend({},bJ,{start:this.view.end,end:this.view.end,dow:null})]}return this.eventsToSegs(bL)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(bK){this.bindSegHandlerToEl(bK,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(bK,"touchend",this.handleSegTouchEnd);this.bindSegHandlerToEl(bK,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(bK,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(bK,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(bK,"click",this.handleSegClick)},bindSegHandlerToEl:function(bM,bK,bL){var bN=this;bM.on(bK,".fc-event-container > *",function(bP){var bO=bv(this).data("fc-seg");if(bO&&!bN.isDraggingSeg&&!bN.isResizingSeg){return bL.call(bN,bO,bP)}})},handleSegClick:function(bK,bL){return this.view.trigger("eventClick",bK.el[0],bK.event,bL)},handleSegMouseover:function(bK,bL){if(!this.isIgnoringMouse&&!this.mousedOverSeg){this.mousedOverSeg=bK;bK.el.addClass("fc-allow-mouse-resize");this.view.trigger("eventMouseover",bK.el[0],bK.event,bL)}},handleSegMouseout:function(bK,bL){bL=bL||{};if(this.mousedOverSeg){bK=bK||this.mousedOverSeg;this.mousedOverSeg=null;bK.el.removeClass("fc-allow-mouse-resize");this.view.trigger("eventMouseout",bK.el[0],bK.event,bL)}},handleSegMousedown:function(bK,bL){var bM=this.startSegResize(bK,bL,{distance:5});if(!bM&&this.view.isEventDraggable(bK.event)){this.buildSegDragListener(bK).startInteraction(bL,{distance:5})}},handleSegTouchStart:function(bQ,bR){var bS=this.view;var bM=bQ.event;var bO=bS.isEventSelected(bM);var bL=bS.isEventDraggable(bM);var bN=bS.isEventResizable(bM);var bP=false;var bK;if(bO&&bN){bP=this.startSegResize(bQ,bR)}if(!bP&&(bL||bN)){bK=bL?this.buildSegDragListener(bQ):this.buildSegSelectListener(bQ);bK.startInteraction(bR,{delay:bO?0:this.view.opt("longPressDelay")})}this.tempIgnoreMouse()},handleSegTouchEnd:function(bK,bL){this.tempIgnoreMouse()},startSegResize:function(bK,bM,bL){if(bv(bM.target).is(".fc-resizer")){this.buildSegResizeListener(bK,bv(bM.target).is(".fc-start-resizer")).startInteraction(bM,bL);return true}return false},buildSegDragListener:function(bO){var bR=this;var bT=this.view;var bP=bT.calendar;var bN=bO.el;var bM=bO.event;var bS;var bL;var bQ;if(this.segDragListener){return this.segDragListener}var bK=this.segDragListener=new at(bT,{scroll:bT.opt("dragScroll"),subjectEl:bN,subjectCenter:true,interactionStart:function(bU){bO.component=bR;bS=false;bL=new bb(bO.el,{additionalClass:"fc-dragging",parentEl:bT.el,opacity:bK.isTouch?null:bT.opt("dragOpacity"),revertDuration:bT.opt("dragRevertDuration"),zIndex:2});bL.hide();bL.start(bU)},dragStart:function(bU){if(bK.isTouch&&!bT.isEventSelected(bM)){bT.selectEvent(bM)}bS=true;bR.handleSegMouseout(bO,bU);bR.segDragStart(bO,bU);bT.hideEvent(bM)},hitOver:function(bV,bU,bX){var bW;if(bO.hit){bX=bO.hit}bQ=bR.computeEventDrop(bX.component.getHitSpan(bX),bV.component.getHitSpan(bV),bM);if(bQ&&!bP.isEventSpanAllowed(bR.eventToSpan(bQ),bM)){bw();bQ=null}if(bQ&&(bW=bT.renderDrag(bQ,bO))){bW.addClass("fc-dragging");if(!bK.isTouch){bR.applyDragOpacity(bW)}bL.hide()}else{bL.show()}if(bU){bQ=null}},hitOut:function(){bT.unrenderDrag();bL.show();bQ=null},hitDone:function(){an()},interactionEnd:function(bU){delete bO.component;bL.stop(!bQ,function(){if(bS){bT.unrenderDrag();bT.showEvent(bM);bR.segDragStop(bO,bU)}if(bQ){bT.reportEventDrop(bM,bQ,this.largeUnit,bN,bU)}});bR.segDragListener=null}});return bK},buildSegSelectListener:function(bL){var bO=this;var bK=this.view;var bN=bL.event;if(this.segDragListener){return this.segDragListener}var bM=this.segDragListener=new bk({dragStart:function(bP){if(bM.isTouch&&!bK.isEventSelected(bN)){bK.selectEvent(bN)}},interactionEnd:function(bP){bO.segDragListener=null}});return bM},segDragStart:function(bK,bL){this.isDraggingSeg=true;this.view.trigger("eventDragStart",bK.el[0],bK.event,bL,{})},segDragStop:function(bK,bL){this.isDraggingSeg=false;this.view.trigger("eventDragStop",bK.el[0],bK.event,bL,{})},computeEventDrop:function(bM,bR,bO){var bP=this.view.calendar;var bL=bM.start;var bK=bR.start;var bQ;var bN;if(bL.hasTime()===bK.hasTime()){bQ=this.diffDates(bK,bL);if(bO.allDay&&aa(bQ)){bN={start:bO.start.clone(),end:bP.getEventEnd(bO),allDay:false};bP.normalizeEventTimes(bN)}else{bN={start:bO.start.clone(),end:bO.end?bO.end.clone():null,allDay:bO.allDay}}bN.start.add(bQ);if(bN.end){bN.end.add(bQ)}}else{bN={start:bK.clone(),end:null,allDay:!bK.hasTime()}}return bN},applyDragOpacity:function(bL){var bK=this.view.opt("dragOpacity");if(bK!=null){bL.each(function(bM,bN){bN.style.opacity=bK})}},externalDragStart:function(bN,bO){var bK=this.view;var bM;var bL;if(bK.opt("droppable")){bM=bv((bO?bO.item:null)||bN.target);bL=bK.opt("dropAccept");if(bv.isFunction(bL)?bL.call(bM[0],bM):bM.is(bL)){if(!this.isDraggingExternal){this.listenToExternalDrag(bM,bN,bO)}}}},listenToExternalDrag:function(bL,bN,bO){var bR=this;var bQ=this.view.calendar;var bP=M(bL);var bM;var bK=bR.externalDragListener=new at(this,{interactionStart:function(){bR.isDraggingExternal=true},hitOver:function(bS){bM=bR.computeExternalDrop(bS.component.getHitSpan(bS),bP);if(bM&&!bQ.isExternalSpanAllowed(bR.eventToSpan(bM),bM,bP.eventProps)){bw();bM=null}if(bM){bR.renderDrag(bM)}},hitOut:function(){bM=null},hitDone:function(){an();bR.unrenderDrag()},interactionEnd:function(bS){if(bM){bR.view.reportExternalDrop(bP,bM,bL,bS,bO)}bR.isDraggingExternal=false;bR.externalDragListener=null}});bK.startDrag(bN)},computeExternalDrop:function(bK,bN){var bM=this.view.calendar;var bL={start:bM.applyTimezone(bK.start),end:null};if(bN.startTime&&!bL.start.hasTime()){bL.start.time(bN.startTime)}if(bN.duration){bL.end=bL.start.clone().add(bN.duration)}return bL},renderDrag:function(bL,bK){},unrenderDrag:function(){},buildSegResizeListener:function(bO,bL){var bR=this;var bT=this.view;var bP=bT.calendar;var bN=bO.el;var bM=bO.event;var bQ=bP.getEventEnd(bM);var bS;var bU;var bK=this.segResizeListener=new at(this,{scroll:bT.opt("dragScroll"),subjectEl:bN,interactionStart:function(){bS=false},dragStart:function(bV){bS=true;bR.handleSegMouseout(bO,bV);bR.segResizeStart(bO,bV)},hitOver:function(bX,bV,bZ){var bW=bR.getHitSpan(bZ);var bY=bR.getHitSpan(bX);bU=bL?bR.computeEventStartResize(bW,bY,bM):bR.computeEventEndResize(bW,bY,bM);if(bU){if(!bP.isEventSpanAllowed(bR.eventToSpan(bU),bM)){bw();bU=null}else{if(bU.start.isSame(bM.start)&&bU.end.isSame(bQ)){bU=null}}}if(bU){bT.hideEvent(bM);bR.renderEventResize(bU,bO)}},hitOut:function(){bU=null},hitDone:function(){bR.unrenderEventResize();bT.showEvent(bM);an()},interactionEnd:function(bV){if(bS){bR.segResizeStop(bO,bV)}if(bU){bT.reportEventResize(bM,bU,this.largeUnit,bN,bV)}bR.segResizeListener=null}});return bK},segResizeStart:function(bK,bL){this.isResizingSeg=true;this.view.trigger("eventResizeStart",bK.el[0],bK.event,bL,{})},segResizeStop:function(bK,bL){this.isResizingSeg=false;this.view.trigger("eventResizeStop",bK.el[0],bK.event,bL,{})},computeEventStartResize:function(bK,bM,bL){return this.computeEventResize("start",bK,bM,bL)},computeEventEndResize:function(bK,bM,bL){return this.computeEventResize("end",bK,bM,bL)},computeEventResize:function(bL,bK,bR,bM){var bO=this.view.calendar;var bQ=this.diffDates(bR[bL],bK[bL]);var bP;var bN;bP={start:bM.start.clone(),end:bO.getEventEnd(bM),allDay:bM.allDay};if(bP.allDay&&aa(bQ)){bP.allDay=false;bO.normalizeEventTimes(bP)}bP[bL].add(bQ);if(!bP.start.isBefore(bP.end)){bN=this.minResizeDuration||(bM.allDay?bO.defaultAllDayEventDuration:bO.defaultTimedEventDuration);if(bL=="start"){bP.start=bP.end.clone().subtract(bN)}else{bP.end=bP.start.clone().add(bN)}}return bP},renderEventResize:function(bL,bK){},unrenderEventResize:function(){},getEventTimeText:function(bL,bK,bM){if(bK==null){bK=this.eventTimeFormat}if(bM==null){bM=this.displayEventEnd}if(this.displayEventTime&&bL.start.hasTime()){if(bM&&bL.end){return this.view.formatRange(bL,bK)}else{return bL.start.format(bK)}}return""},getSegClasses:function(bL,bN,bP){var bK=this.view;var bO=bL.event;var bM=["fc-event",bL.isStart?"fc-start":"fc-not-start",bL.isEnd?"fc-end":"fc-not-end"].concat(bO.className,bO.source?bO.source.className:[]);if(bN){bM.push("fc-draggable")}if(bP){bM.push("fc-resizable")}if(bK.isEventSelected(bO)){bM.push("fc-selected")}return bM},getSegSkinCss:function(bL){var bO=bL.event;var bK=this.view;var bP=bO.source||{};var bM=bO.color;var bQ=bP.color;var bN=bK.opt("eventColor");return{"background-color":bO.backgroundColor||bM||bP.backgroundColor||bQ||bK.opt("eventBackgroundColor")||bN,"border-color":bO.borderColor||bM||bP.borderColor||bQ||bK.opt("eventBorderColor")||bN,color:bO.textColor||bP.textColor||bK.opt("eventTextColor")}},eventToSegs:function(bK){return this.eventsToSegs([bK])},eventToSpan:function(bK){return this.eventToSpans(bK)[0]},eventToSpans:function(bL){var bK=this.eventToRange(bL);return this.eventRangeToSpans(bK,bL)},eventsToSegs:function(bL,bO){var bN=this;var bM=aT(bL);var bK=[];bv.each(bM,function(bS,bR){var bP=[];var bQ;for(bQ=0;bQ<bR.length;bQ++){bP.push(bN.eventToRange(bR[bQ]))}if(bg(bR[0])){bP=bN.invertRanges(bP);for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bR[0],bO))}}else{for(bQ=0;bQ<bP.length;bQ++){bK.push.apply(bK,bN.eventRangeToSegs(bP[bQ],bR[bQ],bO))}}});return bK},eventToRange:function(bK){return{start:bK.start.clone().stripZone(),end:(bK.end?bK.end.clone():this.view.calendar.getDefaultEventEnd(bK.allDay!=null?bK.allDay:!bK.start.hasTime(),bK.start)).stripZone()}},eventRangeToSegs:function(bL,bO,bP){var bN=this.eventRangeToSpans(bL,bO);var bK=[];var bM;for(bM=0;bM<bN.length;bM++){bK.push.apply(bK,this.eventSpanToSegs(bN[bM],bO,bP))}return bK},eventRangeToSpans:function(bK,bL){return[bv.extend({},bK)]},eventSpanToSegs:function(bN,bO,bP){var bL=bP?bP(bN):this.spanToSegs(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.event=bO;bK.eventStartMS=+bN.start;bK.eventDurationMS=bN.end-bN.start}return bL},invertRanges:function(bL){var bK=this.view;var bR=bK.start.clone();var bO=bK.end.clone();var bP=[];var bQ=bR;var bN,bM;bL.sort(g);for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(bM.start>bQ){bP.push({start:bQ,end:bM.start})}bQ=bM.end}if(bQ<bO){bP.push({start:bQ,end:bO})}return bP},sortEventSegs:function(bK){bK.sort(aA(this,"compareEventSegs"))},compareEventSegs:function(bL,bK){return bL.eventStartMS-bK.eventStartMS||bK.eventDurationMS-bL.eventDurationMS||bK.event.allDay-bL.event.allDay||be(bL.event,bK.event,this.view.eventOrderSpecs)}});function V(bL){var bK=bd(bL);return bK==="background"||bK==="inverse-background"}w.isBgEvent=V;function bg(bK){return bd(bK)==="inverse-background"}function bd(bK){return U((bK.source||{}).rendering,bK.rendering)}function aT(bL){var bM={};var bK,bN;for(bK=0;bK<bL.length;bK++){bN=bL[bK];(bM[bN._id]||(bM[bN._id]=[])).push(bN)}return bM}function g(bL,bK){return bL.start-bK.start}w.dataAttrPrefix="";function M(bM){var bO=w.dataAttrPrefix;var bN;var bL;var bP;var bK;if(bO){bO+="-"}bN=bM.data(bO+"event")||null;if(bN){if(typeof bN==="object"){bN=bv.extend({},bN)}else{bN={}}bL=bN.start;if(bL==null){bL=bN.time}bP=bN.duration;bK=bN.stick;delete bN.start;delete bN.time;delete bN.duration;delete bN.stick}if(bL==null){bL=bM.data(bO+"start")}if(bL==null){bL=bM.data(bO+"time")}if(bP==null){bP=bM.data(bO+"duration")}if(bK==null){bK=bM.data(bO+"stick")}bL=bL!=null?a6.duration(bL):null;bP=bP!=null?a6.duration(bP):null;bK=Boolean(bK);return{eventProps:bN,startTime:bL,duration:bP,stick:bK}}var aW=w.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bL=this.view;var bO=this.start.clone();var bP=-1;var bK=[];var bR=[];var bN;var bM;var bQ;while(bO.isBefore(this.end)){if(bL.isHiddenDay(bO)){bK.push(bP+0.5)}else{bP++;bK.push(bP);bR.push(bO.clone())}bO.add(1,"days")}if(this.breakOnWeeks){bM=bR[0].day();for(bN=1;bN<bR.length;bN++){if(bR[bN].day()==bM){break}}bQ=Math.ceil(bR.length/bN)}else{bQ=1;bN=bR.length}this.dayDates=bR;this.dayIndices=bK;this.daysPerRow=bN;this.rowCnt=bQ;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bL,bK){return this.dayDates[this.getCellDayIndex(bL,bK)].clone()},getCellRange:function(bM,bL){var bN=this.getCellDate(bM,bL);var bK=bN.clone().add(1,"days");return{start:bN,end:bK}},getCellDayIndex:function(bL,bK){return bL*this.daysPerRow+this.getColDayIndex(bK)},getColDayIndex:function(bK){if(this.isRTL){return this.colCnt-1-bK}else{return bK}},getDateDayIndex:function(bM){var bK=this.dayIndices;var bL=bM.diff(this.start,"days");if(bL<0){return bK[0]-1}else{if(bL>=bK.length){return bK[bK.length-1]+1}else{return bK[bL]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bN){var bS=this.daysPerRow;var bM=this.view.computeDayRange(bN);var bL=this.getDateDayIndex(bM.start);var bP=this.getDateDayIndex(bM.end.clone().subtract(1,"days"));var bK=[];var bU;var bQ,bR;var bT,bO;for(bU=0;bU<this.rowCnt;bU++){bQ=bU*bS;bR=bQ+bS-1;bT=Math.max(bL,bQ);bO=Math.min(bP,bR);bT=Math.ceil(bT);bO=Math.floor(bO);if(bT<=bO){bK.push({row:bU,firstRowDayIndex:bT-bQ,lastRowDayIndex:bO-bQ,isStart:bT===bL,isEnd:bO===bP})}}return bK},sliceRangeByDay:function(bO){var bT=this.daysPerRow;var bN=this.view.computeDayRange(bO);var bL=this.getDateDayIndex(bN.start);var bQ=this.getDateDayIndex(bN.end.clone().subtract(1,"days"));var bK=[];var bV;var bR,bS;var bM;var bU,bP;for(bV=0;bV<this.rowCnt;bV++){bR=bV*bT;bS=bR+bT-1;for(bM=bR;bM<=bS;bM++){bU=Math.max(bL,bM);bP=Math.min(bQ,bM);bU=Math.ceil(bU);bP=Math.floor(bP);if(bU<=bP){bK.push({row:bV,firstRowDayIndex:bU-bR,lastRowDayIndex:bP-bR,isStart:bU===bL,isEnd:bP===bQ})}}}return bK},renderHeadHtml:function(){var bK=this.view;return'<div class="fc-row '+bK.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(0,bL);bM.push(this.renderHeadDateCellHtml(bK))}return bM.join("")},renderHeadDateCellHtml:function(bM,bN,bK){var bL=this.view;return'<th class="fc-day-header '+bL.widgetHeaderClass+" fc-"+aN[bM.day()]+'"'+(this.rowCnt==1?' data-date="'+bM.format("YYYY-MM-DD")+'"':"")+(bN>1?' colspan="'+bN+'"':"")+(bK?" "+bK:"")+">"+aI(bM.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bK))+this.renderBgCellsHtml(bK)+(this.isRTL?this.renderBgIntroHtml(bK):"")+"</tr>"},renderBgIntroHtml:function(bK){return this.renderIntroHtml()},renderBgCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderBgCellHtml(bK))}return bM.join("")},renderBgCellHtml:function(bM,bK){var bL=this.view;var bN=this.getDayClasses(bM);bN.unshift("fc-day",bL.widgetContentClass);return'<td class="'+bN.join(" ")+'" data-date="'+bM.format("YYYY-MM-DD")+'"'+(bK?" "+bK:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bL){var bK=this.renderIntroHtml();if(bK){if(this.isRTL){bL.append(bK)}else{bL.prepend(bK)}}}};var by=w.DayGrid=aD.extend(aW,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bL){var bK=this.view;var bQ=this.rowCnt;var bN=this.colCnt;var bO="";var bP;var bM;for(bP=0;bP<bQ;bP++){bO+=this.renderDayRowHtml(bP,bL)}this.el.html(bO);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new ah({els:this.rowEls,isVertical:true});this.colCoordCache=new ah({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bP=0;bP<bQ;bP++){for(bM=0;bM<bN;bM++){bK.trigger("dayRender",null,this.getCellDate(bP,bM),this.getCellEl(bP,bM))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bK=this.buildBusinessHourSegs(true);this.renderFill("businessHours",bK,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(bN,bL){var bK=this.view;var bM=["fc-row","fc-week",bK.widgetContentClass];if(bL){bM.push("fc-rigid")}return'<div class="'+bM.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bN)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bN)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bK){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bK))+this.renderNumberCellsHtml(bK)+(this.isRTL?this.renderNumberIntroHtml(bK):"")+"</tr>"},renderNumberIntroHtml:function(bK){return this.renderIntroHtml()},renderNumberCellsHtml:function(bN){var bM=[];var bL,bK;for(bL=0;bL<this.colCnt;bL++){bK=this.getCellDate(bN,bL);bM.push(this.renderNumberCellHtml(bK))}return bM.join("")},renderNumberCellHtml:function(bK){var bL;if(!this.view.dayNumbersVisible){return"<td/>"}bL=this.getDayClasses(bK);bL.unshift("fc-day-number");return'<td class="'+bL.join(" ")+'" data-date="'+bK.format()+'">'+bK.date()+"</td>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bN){var bL=this.sliceRangeByRow(bN);var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];if(this.isRTL){bK.leftCol=this.daysPerRow-1-bK.lastRowDayIndex;bK.rightCol=this.daysPerRow-1-bK.firstRowDayIndex}else{bK.leftCol=bK.firstRowDayIndex;bK.rightCol=bK.lastRowDayIndex}}return bL},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bM,bL){if(this.colCoordCache.isLeftInBounds(bM)&&this.rowCoordCache.isTopInBounds(bL)){var bK=this.colCoordCache.getHorizontalIndex(bM);var bN=this.rowCoordCache.getVerticalIndex(bL);if(bN!=null&&bK!=null){return this.getCellHit(bN,bK)}}},getHitSpan:function(bK){return this.getCellRange(bK.row,bK.col)},getHitEl:function(bK){return this.getCellEl(bK.row,bK.col)},getCellHit:function(bL,bK){return{row:bL,col:bK,component:this,left:this.colCoordCache.getLeftOffset(bK),right:this.colCoordCache.getRightOffset(bK),top:this.rowCoordCache.getTopOffset(bL),bottom:this.rowCoordCache.getBottomOffset(bL)}},getCellEl:function(bL,bK){return this.cellEls.eq(bL*this.colCnt+bK)},renderDrag:function(bL,bK){this.renderHighlight(this.eventToSpan(bL));if(bK&&bK.component!==this){return this.renderEventLocationHelper(bL,bK)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bL,bK){this.renderHighlight(this.eventToSpan(bL));return this.renderEventLocationHelper(bL,bK)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bO,bM){var bK=[];var bL=this.eventToSegs(bO);var bN;bL=this.renderFgSegEls(bL);bN=this.renderSegRows(bL);this.rowEls.each(function(bT,bR){var bQ=bv(bR);var bS=bv('<div class="fc-helper-skeleton"><table/></div>');var bP;if(bM&&bM.row===bT){bP=bM.el.position().top}else{bP=bQ.find(".fc-content-skeleton tbody").position().top}bS.css("top",bP).find("table").append(bN[bT].tbodyEl);bQ.append(bS);bK.push(bS[0])});return(this.helperEls=bv(bK))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bP,bL,bO){var bM=[];var bN,bK;var bQ;bL=this.renderFillSegEls(bP,bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];bQ=this.renderFillRow(bP,bK,bO);this.rowEls.eq(bK.row).append(bQ);bM.push(bQ[0])}this.elsByFill[bP]=bv(bM);return bL},renderFillRow:function(bN,bK,bM){var bL=this.colCnt;var bQ=bK.leftCol;var bP=bK.rightCol+1;var bR;var bO;bM=bM||bN.toLowerCase();bR=bv('<div class="fc-'+bM+'-skeleton"><table><tr/></table></div>');bO=bR.find("tr");if(bQ>0){bO.append('<td colspan="'+bQ+'"/>')}bO.append(bK.el.attr("colspan",bP-bQ));if(bP<bL){bO.append('<td colspan="'+(bL-bP)+'"/>')}this.bookendCells(bO);return bR}});by.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aD.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aD.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bK){var bL=bv.grep(bK,function(bM){return bM.event.allDay});return aD.prototype.renderBgSegs.call(this,bL)},renderFgSegs:function(bK){var bL;bK=this.renderFgSegEls(bK);bL=this.rowStructs=this.renderSegRows(bK);this.rowEls.each(function(bM,bN){bv(bN).find(".fc-content-skeleton > table").append(bL[bM].tbodyEl)});return bK},unrenderFgSegs:function(){var bL=this.rowStructs||[];var bK;while((bK=bL.pop())){bK.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bL){var bM=[];var bK;var bN;bK=this.groupSegRows(bL);for(bN=0;bN<bK.length;bN++){bM.push(this.renderSegRow(bN,bK[bN]))}return bM},fgSegHtml:function(bR,bM){var bU=this.view;var bL=bR.event;var bK=bU.isEventDraggable(bL);var bP=!bM&&bL.allDay&&bR.isStart&&bU.isEventResizableFromStart(bL);var bO=!bM&&bL.allDay&&bR.isEnd&&bU.isEventResizableFromEnd(bL);var bQ=this.getSegClasses(bR,bK,bP||bO);var bV=K(this.getSegSkinCss(bR));var bT="";var bN;var bS;bQ.unshift("fc-day-grid-event","fc-h-event");if(bR.isStart){bN=this.getEventTimeText(bL);if(bN){bT='<span class="fc-time">'+aI(bN)+"</span>"}}bS='<span class="fc-title">'+(aI(bL.title||"")||"&nbsp;")+"</span>";return'<a class="'+bQ.join(" ")+'"'+(bL.url?' href="'+aI(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(this.isRTL?bS+" "+bT:bT+" "+bS)+"</div>"+(bP?'<div class="fc-resizer fc-start-resizer" />':"")+(bO?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(bZ,b0){var bX=this.colCnt;var bT=this.buildSegLevels(b0);var bK=Math.max(1,bT.length);var bS=bv("<tbody/>");var bO=[];var bU=[];var bM=[];var bR,bW;var bL;var bV;var bQ,bP;var bN;function bY(b1){while(bL<b1){bN=(bM[bR-1]||[])[bL];if(bN){bN.attr("rowspan",parseInt(bN.attr("rowspan")||1,10)+1)}else{bN=bv("<td/>");bV.append(bN)}bU[bR][bL]=bN;bM[bR][bL]=bN;bL++}}for(bR=0;bR<bK;bR++){bW=bT[bR];bL=0;bV=bv("<tr/>");bO.push([]);bU.push([]);bM.push([]);if(bW){for(bQ=0;bQ<bW.length;bQ++){bP=bW[bQ];bY(bP.leftCol);bN=bv('<td class="fc-event-container"/>').append(bP.el);if(bP.leftCol!=bP.rightCol){bN.attr("colspan",bP.rightCol-bP.leftCol+1)}else{bM[bR][bL]=bN}while(bL<=bP.rightCol){bU[bR][bL]=bN;bO[bR][bL]=bP;bL++}bV.append(bN)}}bY(bX);this.bookendCells(bV);bS.append(bV)}return{row:bZ,tbodyEl:bS,cellMatrix:bU,segMatrix:bO,segLevels:bT,segs:b0}},buildSegLevels:function(bL){var bO=[];var bN,bK;var bM;this.sortEventSegs(bL);for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!E(bK,bO[bM])){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}for(bM=0;bM<bO.length;bM++){bO[bM].sort(aH)}return bO},groupSegRows:function(bL){var bK=[];var bM;for(bM=0;bM<this.rowCnt;bM++){bK.push([])}for(bM=0;bM<bL.length;bM++){bK[bL[bM].row].push(bL[bM])}return bK}});function E(bK,bN){var bL,bM;for(bL=0;bL<bN.length;bL++){bM=bN[bL];if(bM.leftCol<=bK.rightCol&&bM.rightCol>=bK.leftCol){return true}}return false}function aH(bL,bK){return bL.leftCol-bK.leftCol}by.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bM){var bK=this.rowStructs||[];var bN;var bL;for(bN=0;bN<bK.length;bN++){this.unlimitRow(bN);if(!bM){bL=false}else{if(typeof bM==="number"){bL=bM}else{bL=this.computeRowLevelLimit(bN)}}if(bL!==false){this.limitRow(bN,bL)}}},computeRowLevelLimit:function(bR){var bM=this.rowEls.eq(bR);var bQ=bM.height();var bL=this.rowStructs[bR].tbodyEl.children();var bN,bP;var bK;function bO(bT,bS){bK=Math.max(bK,bv(bS).outerHeight())}for(bN=0;bN<bL.length;bN++){bP=bL.eq(bN).removeClass("fc-limited");bK=0;bP.find("> td > :first-child").each(bO);if(bP.position().top+bK>bQ){return bN}}return false},limitRow:function(bS,bW){var bY=this;var bM=this.rowStructs[bS];var bR=[];var bQ=0;var bK;var bP;var b3;var b1,b2;var b5;var bT;var bL;var bU,b4;var bO;var bZ;var bN,b0,bX;function bV(b6){while(bQ<b6){b5=bY.getCellSegs(bS,bQ,bW);if(b5.length){bU=bP[bW-1][bQ];bX=bY.renderMoreLink(bS,bQ,b5);b0=bv("<div/>").append(bX);bU.append(b0);bR.push(b0[0])}bQ++}}if(bW&&bW<bM.segLevels.length){bK=bM.segLevels[bW-1];bP=bM.cellMatrix;b3=bM.tbodyEl.children().slice(bW).addClass("fc-limited").get();for(b1=0;b1<bK.length;b1++){b2=bK[b1];bV(b2.leftCol);bL=[];bT=0;while(bQ<=b2.rightCol){b5=this.getCellSegs(bS,bQ,bW);bL.push(b5);bT+=b5.length;bQ++}if(bT){bU=bP[bW-1][b2.leftCol];b4=bU.attr("rowspan")||1;bO=[];for(bZ=0;bZ<bL.length;bZ++){bN=bv('<td class="fc-more-cell"/>').attr("rowspan",b4);b5=bL[bZ];bX=this.renderMoreLink(bS,b2.leftCol+bZ,[b2].concat(b5));b0=bv("<div/>").append(bX);bN.append(b0);bO.push(bN[0]);bR.push(bN[0])}bU.addClass("fc-limited").after(bv(bO));b3.push(bU[0])}}bV(this.colCnt);bM.moreEls=bv(bR);bM.limitedEls=bv(b3)}},unlimitRow:function(bL){var bK=this.rowStructs[bL];if(bK.moreEls){bK.moreEls.remove();bK.moreEls=null}if(bK.limitedEls){bK.limitedEls.removeClass("fc-limited");bK.limitedEls=null}},renderMoreLink:function(bN,bM,bL){var bO=this;var bK=this.view;return bv('<a class="fc-more"/>').text(this.getMoreLinkText(bL.length)).on("click",function(bT){var bW=bK.opt("eventLimitClick");var bQ=bO.getCellDate(bN,bM);var bU=bv(this);var bV=bO.getCellEl(bN,bM);var bP=bO.getCellSegs(bN,bM);var bR=bO.resliceDaySegs(bP,bQ);var bS=bO.resliceDaySegs(bL,bQ);if(typeof bW==="function"){bW=bK.trigger("eventLimitClick",null,{date:bQ,dayEl:bV,moreEl:bU,segs:bR,hiddenSegs:bS},bT)}if(bW==="popover"){bO.showSegPopover(bN,bM,bU,bR)}else{if(typeof bW==="string"){bK.calendar.zoomTo(bQ,bW)}}})},showSegPopover:function(bS,bM,bQ,bK){var bN=this;var bP=this.view;var bL=bQ.parent();var bO;var bR;if(this.rowCnt==1){bO=bP.el}else{bO=this.rowEls.eq(bS)}bR={className:"fc-more-popover",content:this.renderSegPopoverContent(bS,bM,bK),parentEl:this.view.el,top:bO.offset().top,autoHide:true,viewportConstrain:bP.opt("popoverViewportConstrain"),hide:function(){bN.segPopover.removeElement();bN.segPopover=null;bN.popoverSegs=null}};if(this.isRTL){bR.right=bL.offset().left+bL.outerWidth()+1}else{bR.left=bL.offset().left-1}this.segPopover=new aY(bR);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(bS,bL,bK){var bP=this.view;var bM=bP.opt("theme");var bQ=this.getCellDate(bS,bL).format(bP.opt("dayPopoverFormat"));var bO=bv('<div class="fc-header '+bP.widgetHeaderClass+'"><span class="fc-close '+(bM?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+aI(bQ)+'</span><div class="fc-clear"/></div><div class="fc-body '+bP.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bR=bO.find(".fc-event-container");var bN;bK=this.renderFgSegEls(bK,true);this.popoverSegs=bK;for(bN=0;bN<bK.length;bN++){this.prepareHits();bK[bN].hit=this.getCellHit(bS,bL);this.releaseHits();bR.append(bK[bN].el)}return bO},resliceDaySegs:function(bM,bK){var bO=bv.map(bM,function(bQ){return bQ.event});var bL=bK.clone();var bP=bL.clone().add(1,"days");var bN={start:bL,end:bP};bM=this.eventsToSegs(bO,function(bR){var bQ=e(bR,bN);return bQ?[bQ]:[]});this.sortEventSegs(bM);return bM},getMoreLinkText:function(bK){var bL=this.view.opt("eventLimitText");if(typeof bL==="function"){return bL(bK)}else{return"+"+bK+" "+bL}},getCellSegs:function(bP,bM,bN){var bO=this.rowStructs[bP].segMatrix;var bQ=bN||0;var bL=[];var bK;while(bQ<bO.length){bK=bO[bQ][bM];if(bK){bL.push(bK)}bQ++}return bL}});var i=w.TimeGrid=aD.extend(aW,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aD.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new ah({els:this.colEls,isHorizontal:true});this.slatCoordCache=new ah({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bK=this.view;var bO=this.isRTL;var bN="";var bP=a6.duration(+this.minTime);var bM;var bL;var bQ;while(bP<this.maxTime){bM=this.start.clone().time(bP);bL=bz(C(bP,this.labelInterval));bQ='<td class="fc-axis fc-time '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+">"+(bL?"<span>"+aI(bM.format(this.labelFormat))+"</span>":"")+"</td>";bN+='<tr data-time="'+bM.format("HH:mm:ss")+'"'+(bL?"":' class="fc-minor"')+">"+(!bO?bQ:"")+'<td class="'+bK.widgetContentClass+'"/>'+(bO?bQ:"")+"</tr>";bP.add(this.slotDuration)}return bN},processOptions:function(){var bK=this.view;var bN=bK.opt("slotDuration");var bM=bK.opt("snapDuration");var bL;bN=a6.duration(bN);bM=bM?a6.duration(bM):bN;this.slotDuration=bN;this.snapDuration=bM;this.snapsPerSlot=bN/bM;this.minResizeDuration=bM;this.minTime=a6.duration(bK.opt("minTime"));this.maxTime=a6.duration(bK.opt("maxTime"));bL=bK.opt("slotLabelFormat");if(bv.isArray(bL)){bL=bL[bL.length-1]}this.labelFormat=bL||bK.opt("axisFormat")||bK.opt("smallTimeFormat");bL=bK.opt("slotLabelInterval");this.labelInterval=bL?a6.duration(bL):this.computeLabelInterval(bN)},computeLabelInterval:function(bM){var bL;var bK;var bN;for(bL=aZ.length-1;bL>=0;bL--){bK=a6.duration(aZ[bL]);bN=C(bK,bM);if(bz(bN)&&bN>1){return bK}}return a6.duration(bM)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bL,bR){var bO=this.snapsPerSlot;var bU=this.colCoordCache;var bK=this.slatCoordCache;if(bU.isLeftInBounds(bL)&&bK.isTopInBounds(bR)){var bW=bU.getHorizontalIndex(bL);var bX=bK.getVerticalIndex(bR);if(bW!=null&&bX!=null){var bV=bK.getTopOffset(bX);var bS=bK.getHeight(bX);var bT=(bR-bV)/bS;var bM=Math.floor(bT*bO);var bQ=bX*bO+bM;var bP=bV+(bM/bO)*bS;var bN=bV+((bM+1)/bO)*bS;return{col:bW,snap:bQ,component:this,left:bU.getLeftOffset(bW),right:bU.getRightOffset(bW),top:bP,bottom:bN}}}},getHitSpan:function(bL){var bN=this.getCellDate(0,bL.col);var bM=this.computeSnapTime(bL.snap);var bK;bN.time(bM);bK=bN.clone().add(this.snapDuration);return{start:bN,end:bK}},getHitEl:function(bK){return this.colEls.eq(bK.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bK){return a6.duration(this.minTime+this.snapDuration*bK)},spanToSegs:function(bM){var bK=this.sliceRangeByTimes(bM);var bL;for(bL=0;bL<bK.length;bL++){if(this.isRTL){bK[bL].col=this.daysPerRow-1-bK[bL].dayIndex}else{bK[bL].col=bK[bL].dayIndex}}return bK},sliceRangeByTimes:function(bN){var bM=[];var bL;var bP;var bK;var bO;for(bP=0;bP<this.daysPerRow;bP++){bK=this.dayDates[bP].clone();bO={start:bK.clone().time(this.minTime),end:bK.clone().time(this.maxTime)};bL=e(bN,bO);if(bL){bL.dayIndex=bP;bM.push(bL)}}return bM},updateSize:function(bK){this.slatCoordCache.build();if(bK){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(bK,bL){return this.computeTimeTop(a6.duration(bK-bL.clone().stripTime()))},computeTimeTop:function(bO){var bK=this.slatEls.length;var bN=(bO-this.minTime)/this.slotDuration;var bM;var bL;bN=Math.max(0,bN);bN=Math.min(bK,bN);bM=Math.floor(bN);bM=Math.min(bM,bK-1);bL=bN-bM;return this.slatCoordCache.getTopPosition(bM)+this.slatCoordCache.getHeight(bM)*bL},renderDrag:function(bL,bK){if(bK){return this.renderEventLocationHelper(bL,bK)}else{this.renderHighlight(this.eventToSpan(bL))}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bL,bK){return this.renderEventLocationHelper(bL,bK)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bL,bK){return this.renderHelperSegs(this.eventToSegs(bL),bK)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bM){var bK=this.spanToSegs({start:bM,end:bM});var bO=this.computeDateTop(bM,bM);var bL=[];var bN;for(bN=0;bN<bK.length;bN++){bL.push(bv('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bO).appendTo(this.colContainerEls.eq(bK[bN].col))[0])}if(bK.length>0){bL.push(bv('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bO).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=bv(bL)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bK){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bK)}else{this.renderHighlight(bK)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bK){this.renderHighlightSegs(this.spanToSegs(bK))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});i.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bM="";var bK;var bL;for(bK=0;bK<this.colCnt;bK++){bM+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bL=bv('<div class="fc-content-skeleton"><table><tr>'+bM+"</tr></table></div>");this.colContainerEls=bL.find(".fc-content-col");this.helperContainerEls=bL.find(".fc-helper-container");this.fgContainerEls=bL.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bL.find(".fc-bgevent-container");this.highlightContainerEls=bL.find(".fc-highlight-container");this.businessContainerEls=bL.find(".fc-business-container");this.bookendCells(bL.find("tr"));this.el.append(bL)},renderFgSegs:function(bK){bK=this.renderFgSegsIntoContainers(bK,this.fgContainerEls);this.fgSegs=bK;return bK},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bL,bN){var bP=[];var bO,bK;var bM;bL=this.renderFgSegsIntoContainers(bL,this.helperContainerEls);for(bO=0;bO<bL.length;bO++){bK=bL[bO];if(bN&&bN.col===bK.col){bM=bN.el;bK.el.css({left:bM.css("left"),right:bM.css("right"),"margin-left":bM.css("margin-left"),"margin-right":bM.css("margin-right")})}bP.push(bK.el[0])}this.helperSegs=bL;return bv(bP)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bK){bK=this.renderFillSegEls("bgEvent",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.bgContainerEls);this.bgSegs=bK;return bK},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bK){bK=this.renderFillSegEls("highlight",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.highlightContainerEls);this.highlightSegs=bK},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bK){bK=this.renderFillSegEls("businessHours",bK);this.updateSegVerticals(bK);this.attachSegsByCol(this.groupSegsByCol(bK),this.businessContainerEls);this.businessSegs=bK},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bK){var bM=[];var bL;for(bL=0;bL<this.colCnt;bL++){bM.push([])}for(bL=0;bL<bK.length;bL++){bM[bK[bL].col].push(bK[bL])}return bM},attachSegsByCol:function(bO,bN){var bL;var bK;var bM;for(bL=0;bL<this.colCnt;bL++){bK=bO[bL];for(bM=0;bM<bK.length;bM++){bN.eq(bL).append(bK[bM].el)}}},unrenderNamedSegs:function(bM){var bK=this[bM];var bL;if(bK){for(bL=0;bL<bK.length;bL++){bK[bL].el.remove()}this[bM]=null}},renderFgSegsIntoContainers:function(bK,bM){var bN;var bL;bK=this.renderFgSegEls(bK);bN=this.groupSegsByCol(bK);for(bL=0;bL<this.colCnt;bL++){this.updateFgSegCoords(bN[bL])}this.attachSegsByCol(bN,bM);return bK},fgSegHtml:function(bS,bM){var bU=this.view;var bL=bS.event;var bK=bU.isEventDraggable(bL);var bQ=!bM&&bS.isStart&&bU.isEventResizableFromStart(bL);var bP=!bM&&bS.isEnd&&bU.isEventResizableFromEnd(bL);var bR=this.getSegClasses(bS,bK,bQ||bP);var bV=K(this.getSegSkinCss(bS));var bO;var bT;var bN;bR.unshift("fc-time-grid-event","fc-v-event");if(bU.isMultiDayEvent(bL)){if(bS.isStart||bS.isEnd){bO=this.getEventTimeText(bS);bT=this.getEventTimeText(bS,"LT");bN=this.getEventTimeText(bS,null,false)}}else{bO=this.getEventTimeText(bL);bT=this.getEventTimeText(bL,"LT");bN=this.getEventTimeText(bL,null,false)}return'<a class="'+bR.join(" ")+'"'+(bL.url?' href="'+aI(bL.url)+'"':"")+(bV?' style="'+bV+'"':"")+'><div class="fc-content">'+(bO?'<div class="fc-time" data-start="'+aI(bN)+'" data-full="'+aI(bT)+'"><span>'+aI(bO)+"</span></div>":"")+(bL.title?'<div class="fc-title">'+aI(bL.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bP?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bK){this.computeSegVerticals(bK);this.assignSegVerticals(bK)},computeSegVerticals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.top=this.computeDateTop(bK.start,bK.start);bK.bottom=this.computeDateTop(bK.end,bK.start)}},assignSegVerticals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateSegVerticalCss(bK))}},generateSegVerticalCss:function(bK){return{top:bK.top,bottom:-bK.bottom}},updateFgSegCoords:function(bK){this.computeSegVerticals(bK);this.computeFgSegHorizontals(bK);this.assignSegVerticals(bK);this.assignFgSegHorizontals(bK)},computeFgSegHorizontals:function(bK){var bM;var bN;var bL;this.sortEventSegs(bK);bM=O(bK);b(bM);if((bN=bM[0])){for(bL=0;bL<bN.length;bL++){p(bN[bL])}for(bL=0;bL<bN.length;bL++){this.computeFgSegForwardBack(bN[bL],0,0)}}},computeFgSegForwardBack:function(bL,bN,bO){var bK=bL.forwardSegs;var bM;if(bL.forwardCoord===undefined){if(!bK.length){bL.forwardCoord=1}else{this.sortForwardSegs(bK);this.computeFgSegForwardBack(bK[0],bN+1,bO);bL.forwardCoord=bK[0].backwardCoord}bL.backwardCoord=bL.forwardCoord-(bL.forwardCoord-bO)/(bN+1);for(bM=0;bM<bK.length;bM++){this.computeFgSegForwardBack(bK[bM],0,bL.forwardCoord)}}},sortForwardSegs:function(bK){bK.sort(aA(this,"compareForwardSegs"))},compareForwardSegs:function(bL,bK){return bK.forwardPressure-bL.forwardPressure||(bL.backwardCoord||0)-(bK.backwardCoord||0)||this.compareEventSegs(bL,bK)},assignFgSegHorizontals:function(bL){var bM,bK;for(bM=0;bM<bL.length;bM++){bK=bL[bM];bK.el.css(this.generateFgSegHorizontalCss(bK));if(bK.bottom-bK.top<30){bK.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bK){var bN=this.view.opt("slotEventOverlap");var bL=bK.backwardCoord;var bM=bK.forwardCoord;var bP=this.generateSegVerticalCss(bK);var bQ;var bO;if(bN){bM=Math.min(1,bL+(bM-bL)*2)}if(this.isRTL){bQ=1-bM;bO=bL}else{bQ=bL;bO=1-bM}bP.zIndex=bK.level+1;bP.left=bQ*100+"%";bP.right=bO*100+"%";if(bN&&bK.forwardPressure){bP[this.isRTL?"marginLeft":"marginRight"]=10*2}return bP}});function O(bL){var bO=[];var bN,bK;var bM;for(bN=0;bN<bL.length;bN++){bK=bL[bN];for(bM=0;bM<bO.length;bM++){if(!bt(bK,bO[bM]).length){break}}bK.level=bM;(bO[bM]||(bO[bM]=[])).push(bK)}return bO}function b(bO){var bN,bP;var bM,bK;var bL;for(bN=0;bN<bO.length;bN++){bP=bO[bN];for(bM=0;bM<bP.length;bM++){bK=bP[bM];bK.forwardSegs=[];for(bL=bN+1;bL<bO.length;bL++){bt(bK,bO[bL],bK.forwardSegs)}}}}function p(bL){var bK=bL.forwardSegs;var bO=0;var bN,bM;if(bL.forwardPressure===undefined){for(bN=0;bN<bK.length;bN++){bM=bK[bN];p(bM);bO=Math.max(bO,1+bM.forwardPressure)}bL.forwardPressure=bO}}function bt(bK,bN,bM){bM=bM||[];for(var bL=0;bL<bN.length;bL++){if(a2(bK,bN[bL])){bM.push(bN[bL])}}return bM}function a2(bL,bK){return bL.bottom>bK.top&&bL.top<bK.bottom}var aR=w.View=ar.extend(v,ak,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:false,isEventsRendered:false,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bN,bM,bK,bL){this.calendar=bN;this.type=this.name=bM;this.options=bK;this.intervalDuration=bL||a6.duration(1,"day");this.nextDayThreshold=a6.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=az(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(bK){return this.options[bK]},trigger:function(bK,bM){var bL=this.calendar;return bL.trigger.apply(bL,[bK,bM||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(bK){this.setRange(this.computeRange(bK))},setRange:function(bK){bv.extend(this,bK);this.updateTitle()},computeRange:function(bM){var bP=aw(this.intervalDuration);var bN=bM.clone().startOf(bP);var bL=bN.clone().add(this.intervalDuration);var bO,bK;if(/year|month|week|day/.test(bP)){bN.stripTime();bL.stripTime()}else{if(!bN.hasTime()){bN=this.calendar.time(0)}if(!bL.hasTime()){bL=this.calendar.time(0)}}bO=bN.clone();bO=this.skipHiddenDays(bO);bK=bL.clone();bK=this.skipHiddenDays(bK,-1,true);return{intervalUnit:bP,intervalStart:bN,intervalEnd:bL,start:bO,end:bK}},computePrevDate:function(bK){return this.massageCurrentDate(bK.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(bK){return this.massageCurrentDate(bK.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(bK,bL){if(this.intervalDuration.as("days")<=1){if(this.isHiddenDay(bK)){bK=this.skipHiddenDays(bK,bL);bK.startOf("day")}}return bK},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.intervalUnit=="year"){return"YYYY"}else{if(this.intervalUnit=="month"){return this.opt("monthYearFormat")}else{if(this.intervalDuration.as("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bM,bL,bN){var bK=bM.end;if(!bK.hasTime()){bK=bK.clone().subtract(1)}return bl(bM.start,bK,bL,bN,this.opt("isRTL"))},setElement:function(bK){this.el=bK;this.bindGlobalHandlers()},removeElement:function(){this.clear();if(this.isSkeletonRendered){this.unrenderSkeleton();this.isSkeletonRendered=false}this.unbindGlobalHandlers();this.el.remove()},display:function(bL,bM){var bN=this;var bK=null;if(bM!=null&&this.displaying){bK=this.queryScroll()}this.calendar.freezeContentHeight();return s(this.clear(),function(){return(bN.displaying=s(bN.displayView(bL),function(){if(bM!=null){bN.setScroll(bM)}else{bN.forceScroll(bN.computeInitialScroll(bK))}bN.calendar.unfreezeContentHeight();bN.triggerRender()}))})},clear:function(){var bL=this;var bK=this.displaying;if(bK){return s(bK,function(){bL.displaying=null;bL.clearEvents();return bL.clearView()})}else{return bv.when()}},displayView:function(bK){if(!this.isSkeletonRendered){this.renderSkeleton();this.isSkeletonRendered=true}if(bK){this.setDate(bK)}if(this.render){this.render()}this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();if(this.destroy){this.destroy()}},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(bv(document),"mousedown",this.handleDocumentMousedown);this.listenTo(bv(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(bv(document))},initThemingProps:function(){var bK=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bK+"-widget-header";this.widgetContentClass=bK+"-widget-content";this.highlightStateClass=bK+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bN=this;var bL;var bM;var bK;if(this.opt("nowIndicator")){bL=this.getNowIndicatorUnit();if(bL){bM=aA(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bK=this.initialNowDate.clone().startOf(bL).add(1,bL)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bN.nowIndicatorTimeoutID=null;bM();bK=+a6.duration(1,bL);bK=Math.max(100,bK);bN.nowIndicatorIntervalID=setInterval(bM,bK)},bK)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bK){},unrenderNowIndicator:function(){},updateSize:function(bK){var bL;if(bK){bL=this.queryScroll()}this.updateHeight(bK);this.updateWidth(bK);this.updateNowIndicator();if(bK){this.setScroll(bL)}},updateWidth:function(bK){},updateHeight:function(bK){var bL=this.calendar;this.setHeight(bL.getSuggestedViewHeight(),bL.isHeightAuto())},setHeight:function(bL,bK){},computeInitialScroll:function(bK){return 0},queryScroll:function(){},setScroll:function(bK){},forceScroll:function(bK){var bL=this;this.setScroll(bK);setTimeout(function(){bL.setScroll(bK)},0)},displayEvents:function(bK){var bL=this.queryScroll();this.clearEvents();this.renderEvents(bK);this.isEventsRendered=true;this.setScroll(bL);this.triggerEventRender()},clearEvents:function(){var bK;if(this.isEventsRendered){bK=this.queryScroll();this.triggerEventUnrender();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.setScroll(bK);this.isEventsRendered=false}},renderEvents:function(bK){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(bK){this.trigger("eventAfterRender",bK.event,bK.event,bK.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(bK){this.trigger("eventDestroy",bK.event,bK.event,bK.el)})},resolveEventEl:function(bL,bK){var bM=this.trigger("eventRender",bL,bL,bK);if(bM===false){bK=null}else{if(bM&&bM!==true){bK=bv(bM)}}return bK},showEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","")},bK)},hideEvent:function(bK){this.renderedEventSegEach(function(bL){bL.el.css("visibility","hidden")},bK)},renderedEventSegEach:function(bN,bM){var bK=this.getEventSegs();var bL;for(bL=0;bL<bK.length;bL++){if(!bM||bK[bL].event._id===bM._id){if(bK[bL].el){bN.call(this,bK[bL])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bK){var bL=bK.source||{};return U(bK.startEditable,bL.startEditable,this.opt("eventStartEditable"),bK.editable,bL.editable,this.opt("editable"))},reportEventDrop:function(bP,bO,bM,bL,bN){var bR=this.calendar;var bQ=bR.mutateEvent(bP,bO,bM);var bK=function(){bQ.undo();bR.reportEventChange()};this.triggerEventDrop(bP,bQ.dateDelta,bK,bL,bN);bR.reportEventChange()},triggerEventDrop:function(bN,bO,bK,bL,bM){this.trigger("eventDrop",bL[0],bN,bO,bK,bM,{})},reportExternalDrop:function(bR,bO,bL,bN,bQ){var bP=bR.eventProps;var bK;var bM;if(bP){bK=bv.extend({},bP,bO);bM=this.calendar.renderEvent(bK,bR.stick)[0]}this.triggerExternalDrop(bM,bO,bL,bN,bQ)},triggerExternalDrop:function(bN,bM,bK,bL,bO){this.trigger("drop",bK[0],bM.start,bL,bO);if(bN){this.trigger("eventReceive",null,bN)}},renderDrag:function(bL,bK){},unrenderDrag:function(){},isEventResizableFromStart:function(bK){return this.opt("eventResizableFromStart")&&this.isEventResizable(bK)},isEventResizableFromEnd:function(bK){return this.isEventResizable(bK)},isEventResizable:function(bK){var bL=bK.source||{};return U(bK.durationEditable,bL.durationEditable,this.opt("eventDurationEditable"),bK.editable,bL.editable,this.opt("editable"))},reportEventResize:function(bO,bR,bM,bL,bN){var bQ=this.calendar;var bP=bQ.mutateEvent(bO,bR,bM);var bK=function(){bP.undo();bQ.reportEventChange()};this.triggerEventResize(bO,bP.durationDelta,bK,bL,bN);bQ.reportEventChange()},triggerEventResize:function(bO,bL,bK,bM,bN){this.trigger("eventResize",bM[0],bO,bL,bK,bN,{})},select:function(bK,bL){this.unselect(bL);this.renderSelection(bK);this.reportSelection(bK,bL)},renderSelection:function(bK){},reportSelection:function(bK,bL){this.isSelected=true;this.triggerSelect(bK,bL)},triggerSelect:function(bK,bL){this.trigger("select",null,this.calendar.applyTimezone(bK.start),this.calendar.applyTimezone(bK.end),bL)},unselect:function(bK){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.trigger("unselect",null,bK)}},unrenderSelection:function(){},selectEvent:function(bK){if(!this.selectedEvent||this.selectedEvent!==bK){this.unselectEvent();this.renderedEventSegEach(function(bL){bL.el.addClass("fc-selected")},bK);this.selectedEvent=bK}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(bK){bK.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(bK){return this.selectedEvent&&this.selectedEvent._id===bK._id},handleDocumentMousedown:function(bK){if(bF(bK)){this.processUnselect(bK)}},processUnselect:function(bK){this.processRangeUnselect(bK);this.processEventUnselect(bK)},processRangeUnselect:function(bK){var bL;if(this.isSelected&&this.opt("unselectAuto")){bL=this.opt("unselectCancel");if(!bL||!bv(bK.target).closest(bL).length){this.unselect(bK)}}},processEventUnselect:function(bK){if(this.selectedEvent){if(!bv(bK.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(bK,bM,bL){this.trigger("dayClick",bM,this.calendar.applyTimezone(bK.start),bL)},initHiddenDays:function(){var bL=this.opt("hiddenDays")||[];var bN=[];var bK=0;var bM;if(this.opt("weekends")===false){bL.push(0,6)}for(bM=0;bM<7;bM++){if(!(bN[bM]=bv.inArray(bM,bL)!==-1)){bK++}}if(!bK){throw"invalid hiddenDays"}this.isHiddenDayHash=bN},isHiddenDay:function(bK){if(a6.isMoment(bK)){bK=bK.day()}return this.isHiddenDayHash[bK]},skipHiddenDays:function(bM,bN,bK){var bL=bM.clone();bN=bN||1;while(this.isHiddenDayHash[(bL.day()+(bK?bN:0)+7)%7]){bL.add(bN,"days")}return bL},computeDayRange:function(bL){var bO=bL.start.clone().stripTime();var bK=bL.end;var bN=null;var bM;if(bK){bN=bK.clone().stripTime();bM=+bK.time();if(bM&&bM>=this.nextDayThreshold){bN.add(1,"days")}}if(!bK||bN<=bO){bN=bO.clone().add(1,"days")}return{start:bO,end:bN}},isMultiDayEvent:function(bL){var bK=this.computeDayRange(bL);return bK.end.diff(bK.start,"days")>1}});var a7=w.Scroller=ar.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(bK){bK=bK||{};this.overflowX=bK.overflowX||bK.overflow||"auto";this.overflowY=bK.overflowY||bK.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=bv('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(bM){var bL=this.overflowX;var bK=this.overflowY;bM=bM||this.getScrollbarWidths();if(bL==="auto"){bL=(bM.top||bM.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(bK==="auto"){bK=(bM.left||bM.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":bL,"overflow-y":bK})},setHeight:function(bK){this.scrollEl.height(bK)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(bK){this.scrollEl.scrollTop(bK)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});var u=w.Calendar=ar.extend({dirDefaults:null,langDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:I,initialize:function(){},populateOptionsHash:function(){var bN,bK;var bL,bM;bN=U(this.dynamicOverrides.lang,this.overrides.lang);bK=aM[bN];if(!bK){bN=u.defaults.lang;bK=aM[bN]||{}}bL=U(this.dynamicOverrides.isRTL,this.overrides.isRTL,bK.isRTL,u.defaults.isRTL);bM=bL?u.rtlDefaults:{};this.dirDefaults=bM;this.langDefaults=bK;this.options=aS([u.defaults,bM,bK,this.overrides,this.dynamicOverrides]);aQ(this.options)},getViewSpec:function(bK){var bL=this.viewSpecCache;return bL[bK]||(bL[bK]=this.buildViewSpec(bK))},getUnitViewSpec:function(bN){var bM;var bL;var bK;if(bv.inArray(bN,aE)!=-1){bM=this.header.getViewsWithButtons();bv.each(w.views,function(bO){bM.push(bO)});for(bL=0;bL<bM.length;bL++){bK=this.getViewSpec(bM[bL]);if(bK){if(bK.singleUnit==bN){return bK}}}}},buildViewSpec:function(bM){var bP=this.overrides.views||{};var bO=[];var bT=[];var bK=[];var bN=bM;var bS;var bR;var bL;var bQ;while(bN){bS=X[bN];bR=bP[bN];bN=null;if(typeof bS==="function"){bS={"class":bS}}if(bS){bO.unshift(bS);bT.unshift(bS.defaults||{});bL=bL||bS.duration;bN=bN||bS.type}if(bR){bK.unshift(bR);bL=bL||bR.duration;bN=bN||bR.type}}bS=bG(bO);bS.type=bM;if(!bS["class"]){return false}if(bL){bL=a6.duration(bL);if(bL.valueOf()){bS.duration=bL;bQ=aw(bL);if(bL.as(bQ)===1){bS.singleUnit=bQ;bK.unshift(bP[bQ]||{})}}}bS.defaults=aS(bT);bS.overrides=aS(bK);this.buildViewSpecOptions(bS);this.buildViewSpecButtonText(bS,bM);return bS},buildViewSpecOptions:function(bK){bK.options=aS([u.defaults,bK.defaults,this.dirDefaults,this.langDefaults,this.overrides,bK.overrides,this.dynamicOverrides]);aQ(bK.options)},buildViewSpecButtonText:function(bL,bM){function bK(bN){var bO=bN.buttonText||{};return bO[bM]||(bL.singleUnit?bO[bL.singleUnit]:null)}bL.buttonTextOverride=bK(this.dynamicOverrides)||bK(this.overrides)||bL.overrides.buttonText;bL.buttonTextDefault=bK(this.langDefaults)||bK(this.dirDefaults)||bL.defaults.buttonText||bK(u.defaults)||(bL.duration?this.humanizeDuration(bL.duration):null)||bM},instantiateView:function(bK){var bL=this.getViewSpec(bK);return new bL["class"](this,bK,bL.options,bL.duration)},isValidViewType:function(bK){return Boolean(this.getViewSpec(bK))},pushLoading:function(){if(!(this.loadingLevel++)){this.trigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.trigger("loading",null,false,this.view)}},buildSelectSpan:function(bL,bM){var bN=this.moment(bL).stripZone();var bK;if(bM){bK=this.moment(bM).stripZone()}else{if(bN.hasTime()){bK=bN.clone().add(this.defaultTimedEventDuration)}else{bK=bN.clone().add(this.defaultAllDayEventDuration)}}return{start:bN,end:bK}}});u.mixin(v);function I(b0,ct){var cw=this;cw.render=ch;cw.destroy=cy;cw.refetchEvents=bW;cw.refetchEventSources=cz;cw.reportEvents=bY;cw.reportEventChange=cB;cw.rerenderEvents=bQ;cw.changeView=b6;cw.select=cx;cw.unselect=bT;cw.prev=ce;cw.next=bM;cw.prevYear=cA;cw.nextYear=bL;cw.today=b1;cw.gotoDate=cg;cw.incrementDate=b3;cw.zoomTo=cF;cw.getDate=b5;cw.getCalendar=cl;cw.getView=cb;cw.option=cp;cw.trigger=cf;cw.dynamicOverrides={};cw.viewSpecCache={};cw.optionHandlers={};cw.overrides=a1(ct||{});cw.populateOptionsHash();var cj;cw.bindOptions(["lang","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(cN,cK,cJ,cO,cL,cI,cM){cj=T(N(cN));if(cK){cj._months=cK}if(cJ){cj._monthsShort=cJ}if(cO){cj._weekdays=cO}if(cL){cj._weekdaysShort=cL}if(cI!=null){var cH=T(cj._week);cH.dow=cI;cj._week=cH}if(cM==="iso"){cM="ISO"}if(cM==="ISO"||cM==="local"||typeof cM==="function"){cj._fullCalendar_weekCalc=cM}if(cC){b9(cC)}});cw.defaultAllDayEventDuration=a6.duration(cw.options.defaultAllDayEventDuration);cw.defaultTimedEventDuration=a6.duration(cw.options.defaultTimedEventDuration);cw.moment=function(){var cH;if(cw.options.timezone==="local"){cH=w.moment.apply(null,arguments);if(cH.hasTime()){cH.local()}}else{if(cw.options.timezone==="UTC"){cH=w.moment.utc.apply(null,arguments)}else{cH=w.moment.parseZone.apply(null,arguments)}}b9(cH);return cH};function b9(cH){if("_locale" in cH){cH._locale=cj}else{cH._lang=cj}}cw.getIsAmbigTimezone=function(){return cw.options.timezone!=="local"&&cw.options.timezone!=="UTC"};cw.applyTimezone=function(cH){if(!cH.hasTime()){return cH.clone()}var cI=cw.moment(cH.toArray());var cK=cH.time()-cI.time();var cJ;if(cK){cJ=cI.clone().add(cK);if(cH.time()-cJ.time()===0){cI=cJ}}return cI};cw.getNow=function(){var cH=cw.options.now;if(typeof cH==="function"){cH=cH()}return cw.moment(cH).stripZone()};cw.getEventEnd=function(cH){if(cH.end){return cH.end.clone()}else{return cw.getDefaultEventEnd(cH.allDay,cH.start)}};cw.getDefaultEventEnd=function(cI,cJ){var cH=cJ.clone();if(cI){cH.stripTime().add(cw.defaultAllDayEventDuration)}else{cH.add(cw.defaultTimedEventDuration)}if(cw.getIsAmbigTimezone()){cH.stripZone()}return cH};cw.humanizeDuration=function(cH){return(cH.locale||cH.lang).call(cH,cw.options.lang).humanize()};aL.call(cw);var bK=cw.isFetchNeeded;var cE=cw.fetchEvents;var cv=cw.fetchEventSources;var cq=b0[0];var bO;var bV;var cG;var bU;var cu={};var bR;var cD;var cr=0;var b8=[];var cC;if(cw.options.defaultDate!=null){cC=cw.moment(cw.options.defaultDate).stripZone()}else{cC=cw.getNow()}function ch(){if(!bV){b7()}else{if(co()){ck();b6()}}}function b7(){b0.addClass("fc");cw.bindOption("theme",function(cH){cG=cH?"ui":"fc";b0.toggleClass("ui-widget",cH);b0.toggleClass("fc-unthemed",!cH)});cw.bindOptions(["isRTL","lang"],function(cH){b0.toggleClass("fc-ltr",!cH);b0.toggleClass("fc-rtl",cH)});bV=bv("<div class='fc-view-container'/>").prependTo(b0);bO=cw.header=new aO(cw);cs();b6(cw.options.defaultView);if(cw.options.handleWindowResize){cD=bc(bX,cw.options.windowResizeDelay);bv(window).resize(cD)}}function cs(){bO.render();if(bO.el){b0.prepend(bO.el)}}function cy(){if(bU){bU.removeElement()}bO.removeElement();bV.remove();b0.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");if(cD){bv(window).unbind("resize",cD)}}function co(){return b0.is(":visible")}function b6(cH,cI){cr++;if(bU&&cH&&bU.type!==cH){bN();cn()}if(!bU&&cH){bU=cw.view=cu[cH]||(cu[cH]=cw.instantiateView(cH));bU.setElement(bv("<div class='fc-view fc-"+cH+"-view' />").appendTo(bV));bO.activateButton(cH)}if(bU){cC=bU.massageCurrentDate(cC);if(!bU.displaying||!cC.isWithin(bU.intervalStart,bU.intervalEnd)){if(co()){bU.display(cC,cI);bZ();ca();cc();bS()}}}bZ();cr--}function cn(){bO.deactivateButton(bU.type);bU.removeElement();bU=cw.view=null}function cd(){cr++;bN();var cH=bU.type;var cI=bU.queryScroll();cn();b6(cH,cI);bZ();cr--}cw.getSuggestedViewHeight=function(){if(bR===undefined){ck()}return bR};cw.isHeightAuto=function(){return cw.options.contentHeight==="auto"||cw.options.height==="auto"};function b2(cH){if(co()){if(cH){bP()}cr++;bU.updateSize(true);cr--;return true}}function ck(){if(co()){bP()}}function bP(){var cI=cw.options.contentHeight;var cH=cw.options.height;if(typeof cI==="number"){bR=cI}else{if(typeof cI==="function"){bR=cI()}else{if(typeof cH==="number"){bR=cH-ci()}else{if(typeof cH==="function"){bR=cH()-ci()}else{if(cH==="parent"){bR=b0.parent().height()-ci()}else{bR=Math.round(bV.width()/Math.max(cw.options.aspectRatio,0.5))}}}}}}function ci(){return bO.el?bO.el.outerHeight(true):0}function bX(cH){if(!cr&&cH.target===window&&bU.start){if(b2(true)){bU.trigger("windowResize",cq)}}}function bW(){cm()}function cz(cH){cv(cw.getEventSourcesByMatchArray(cH))}function bQ(){if(co()){bN();bU.displayEvents(b8);bZ()}}function bS(){if(!cw.options.lazyFetching||bK(bU.start,bU.end)){cm()}else{bQ()}}function cm(){cE(bU.start,bU.end)}function bY(cH){b8=cH;bQ()}function cB(){bQ()}function ca(){bO.updateTitle(bU.title)}function cc(){var cH=cw.getNow();if(cH.isWithin(bU.intervalStart,bU.intervalEnd)){bO.disableButton("today")}else{bO.enableButton("today")}}function cx(cH,cI){bU.select(cw.buildSelectSpan.apply(cw,arguments))}function bT(){if(bU){bU.unselect()}}function ce(){cC=bU.computePrevDate(cC);b6()}function bM(){cC=bU.computeNextDate(cC);b6()}function cA(){cC.add(-1,"years");b6()}function bL(){cC.add(1,"years");b6()}function b1(){cC=cw.getNow();b6()}function cg(cH){cC=cw.moment(cH).stripZone();b6()}function b3(cH){cC.add(a6.duration(cH));b6()}function cF(cI,cH){var cJ;cH=cH||"day";cJ=cw.getViewSpec(cH)||cw.getUnitViewSpec(cH);cC=cI.clone();b6(cJ?cJ.type:null)}function b5(){return cw.applyTimezone(cC)}cw.freezeContentHeight=bN;cw.unfreezeContentHeight=bZ;function bN(){bV.css({width:"100%",height:bV.height(),overflow:"hidden"})}function bZ(){bV.css({width:"",height:"",overflow:""})}function cl(){return cw}function cb(){return bU}function cp(cH,cJ){var cI;if(typeof cH==="string"){if(cJ===undefined){return cw.options[cH]}else{cI={};cI[cH]=cJ;b4(cI)}}else{if(typeof cH==="object"){b4(cH)}}}function b4(cJ){var cH=0;var cI;for(cI in cJ){cw.dynamicOverrides[cI]=cJ[cI]}cw.viewSpecCache={};cw.populateOptionsHash();for(cI in cJ){cw.triggerOptionHandlers(cI);cH++}if(cH===1){if(cI==="height"||cI==="contentHeight"||cI==="aspectRatio"){b2(true);return}else{if(cI==="defaultDate"){return}else{if(cI==="businessHours"){if(bU){bU.unrenderBusinessHours();bU.renderBusinessHours()}return}else{if(cI==="timezone"){cw.rezoneArrayEventSources();bW();return}}}}}cs();cu={};cd()}function cf(cI,cJ){var cH=Array.prototype.slice.call(arguments,2);cJ=cJ||cq;this.triggerWith(cI,cJ,cH);if(cw.options[cI]){return cw.options[cI].apply(cJ,cH)}}cw.initialize()}u.mixin({optionHandlers:null,bindOption:function(bK,bL){this.bindOptions([bK],bL)},bindOptions:function(bK,bN){var bL={func:bN,names:bK};var bM;for(bM=0;bM<bK.length;bM++){this.registerOptionHandlerObj(bK[bM],bL)}this.triggerOptionHandlerObj(bL)},registerOptionHandlerObj:function(bL,bK){(this.optionHandlers[bL]||(this.optionHandlers[bL]=[])).push(bK)},triggerOptionHandlers:function(bL){var bM=this.optionHandlers[bL]||[];var bK;for(bK=0;bK<bM.length;bK++){this.triggerOptionHandlerObj(bM[bK])}},triggerOptionHandlerObj:function(bM){var bL=bM.names;var bK=[];var bN;for(bN=0;bN<bL.length;bN++){bK.push(this.options[bL[bN]])}bM.func.apply(this,bK)}});u.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};u.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};u.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aM=w.langs={};w.datepickerLang=function(bN,bL,bM){var bK=aM[bN]||(aM[bN]={});bK.isRTL=bM.isRTL;bK.weekNumberTitle=bM.weekHeader;bv.each(aJ,function(bO,bP){bK[bO]=bP(bM)});if(bv.datepicker){bv.datepicker.regional[bL]=bv.datepicker.regional[bN]=bM;bv.datepicker.regional.en=bv.datepicker.regional[""];bv.datepicker.setDefaults(bM)}};w.lang=function(bN,bM){var bK;var bL;bK=aM[bN]||(aM[bN]={});if(bM){bK=aM[bN]=aS([bK,bM])}bL=N(bN);bv.each(a9,function(bO,bP){if(bK[bO]==null){bK[bO]=bP(bL,bK)}});u.defaults.lang=bN};var aJ={buttonText:function(bK){return{prev:aG(bK.prevText),next:aG(bK.nextText),today:aG(bK.currentText)}},monthYearFormat:function(bK){return bK.showMonthAfterYear?"YYYY["+bK.yearSuffix+"] MMMM":"MMMM YYYY["+bK.yearSuffix+"]"}};var a9={dayOfMonthFormat:function(bL,bK){var bM=bL.longDateFormat("l");bM=bM.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bK.isRTL){bM+=" ddd"}else{bM="ddd "+bM}return bM},mediumTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bK){return bK.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bK){return bK.longDateFormat("LT").replace(/\s*a$/i,"")}};var bh={smallDayDateFormat:function(bK){return bK.isRTL?"D dd":"dd D"},weekFormat:function(bK){return bK.isRTL?"w[ "+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+" ]w"},smallWeekFormat:function(bK){return bK.isRTL?"w["+bK.weekNumberTitle+"]":"["+bK.weekNumberTitle+"]w"}};function aQ(bK){bv.each(bh,function(bL,bM){if(bK[bL]==null){bK[bL]=bM(bK)}})}function N(bL){var bK=a6.localeData||a6.langData;return bK.call(a6,bL)||bK.call(a6,"en")}w.lang("en",u.englishDefaults);function aO(bP){var bX=this;bX.render=bL;bX.removeElement=bS;bX.updateTitle=bQ;bX.activateButton=bK;bX.deactivateButton=bV;bX.disableButton=bO;bX.enableButton=bR;bX.getViewsWithButtons=bN;bX.el=null;var bM;var bT=[];var bU;function bL(){var bY=bP.options;var bZ=bY.header;bU=bY.theme?"ui":"fc";if(bZ){if(!bM){bM=this.el=bv("<div class='fc-toolbar'/>")}else{bM.empty()}bM.append(bW("left")).append(bW("right")).append(bW("center")).append('<div class="fc-clear"/>')}else{bS()}}function bS(){if(bM){bM.remove();bM=bX.el=null}}function bW(bY){var bZ=bv('<div class="fc-'+bY+'"/>');var b0=bP.options;var b1=b0.header[bY];if(b1){bv.each(b1.split(" "),function(b2){var b3=bv();var b4=true;var b5;bv.each(this.split(","),function(ca,ch){var cg;var cd;var cc;var cf;var ce;var b7;var b9;var b6;var b8;var cb;if(ch=="title"){b3=b3.add(bv("<h2>&nbsp;</h2>"));b4=false}else{if((cg=(b0.customButtons||{})[ch])){cc=function(ci){if(cg.click){cg.click.call(cb[0],ci)}};cf="";ce=cg.text}else{if((cd=bP.getViewSpec(ch))){cc=function(){bP.changeView(ch)};bT.push(ch);cf=cd.buttonTextOverride;ce=cd.buttonTextDefault}else{if(bP[ch]){cc=function(){bP[ch]()};cf=(bP.overrides.buttonText||{})[ch];ce=b0.buttonText[ch]}}}if(cc){b7=cg?cg.themeIcon:b0.themeButtonIcons[ch];b9=cg?cg.icon:b0.buttonIcons[ch];if(cf){b6=aI(cf)}else{if(b7&&b0.theme){b6="<span class='ui-icon ui-icon-"+b7+"'></span>"}else{if(b9&&!b0.theme){b6="<span class='fc-icon fc-icon-"+b9+"'></span>"}else{b6=aI(ce)}}}b8=["fc-"+ch+"-button",bU+"-button",bU+"-state-default"];cb=bv('<button type="button" class="'+b8.join(" ")+'">'+b6+"</button>").click(function(ci){if(!cb.hasClass(bU+"-state-disabled")){cc(ci);if(cb.hasClass(bU+"-state-active")||cb.hasClass(bU+"-state-disabled")){cb.removeClass(bU+"-state-hover")}}}).mousedown(function(){cb.not("."+bU+"-state-active").not("."+bU+"-state-disabled").addClass(bU+"-state-down")}).mouseup(function(){cb.removeClass(bU+"-state-down")}).hover(function(){cb.not("."+bU+"-state-active").not("."+bU+"-state-disabled").addClass(bU+"-state-hover")},function(){cb.removeClass(bU+"-state-hover").removeClass(bU+"-state-down")});b3=b3.add(cb)}}});if(b4){b3.first().addClass(bU+"-corner-left").end().last().addClass(bU+"-corner-right").end()}if(b3.length>1){b5=bv("<div/>");if(b4){b5.addClass("fc-button-group")}b5.append(b3);bZ.append(b5)}else{bZ.append(b3)}})}return bZ}function bQ(bY){if(bM){bM.find("h2").text(bY)}}function bK(bY){if(bM){bM.find(".fc-"+bY+"-button").addClass(bU+"-state-active")}}function bV(bY){if(bM){bM.find(".fc-"+bY+"-button").removeClass(bU+"-state-active")}}function bO(bY){if(bM){bM.find(".fc-"+bY+"-button").prop("disabled",true).addClass(bU+"-state-disabled")}}function bR(bY){if(bM){bM.find(".fc-"+bY+"-button").prop("disabled",false).removeClass(bU+"-state-disabled")}}function bN(){return bT}}w.sourceNormalizers=[];w.sourceFetchers=[];var G={dataType:"json",cache:false};var a0=1;function aL(){var cl=this;cl.isFetchNeeded=bL;cl.fetchEvents=cs;cl.fetchEventSources=ck;cl.getEventSources=bZ;cl.getEventSourceById=co;cl.getEventSourcesByMatchArray=cp;cl.getEventSourcesByMatch=b9;cl.addEventSource=bW;cl.removeEventSource=bQ;cl.removeEventSources=b5;cl.updateEvent=cg;cl.renderEvent=b4;cl.removeEvents=cq;cl.clientEvents=bX;cl.mutateEvent=bM;cl.normalizeEventDates=cb;cl.normalizeEventTimes=bV;var b2=cl.reportEvents;var bS={events:[]};var ch=[bS];var bY,b3;var b7=0;var b1=[];bv.each((cl.options.events?[cl.options.events]:[]).concat(cl.options.eventSources||[]),function(cv,cx){var cw=b8(cx);if(cw){ch.push(cw)}});function bL(cw,cv){return !bY||cw<bY||cv>b3}function cs(cw,cv){bY=cw;b3=cv;ck(ch,"reset")}function ck(cy,cx){var cv,cw;if(cx==="reset"){b1=[]}else{if(cx!=="add"){b1=bP(b1,cy)}}for(cv=0;cv<cy.length;cv++){cw=cy[cv];if(cw._status!=="pending"){b7++}cw._fetchId=(cw._fetchId||0)+1;cw._status="pending"}for(cv=0;cv<cy.length;cv++){cw=cy[cv];cn(cw,cw._fetchId)}}function cn(cv,cw){bU(cv,function(cB){var cA=bv.isArray(cv.events);var cz,cy;var cx;if(cw===cv._fetchId&&cv._status!=="rejected"){cv._status="resolved";if(cB){for(cz=0;cz<cB.length;cz++){cy=cB[cz];if(cA){cx=cy}else{cx=bR(cy,cv)}if(cx){b1.push.apply(b1,cu(cx))}}}bK()}})}function cm(cw){var cv=cw._status==="pending";cw._status="rejected";if(cv){bK()}}function bK(){b7--;if(!b7){b2(b1)}}function bU(cv,cG){var cA;var cE=w.sourceFetchers;var cC;for(cA=0;cA<cE.length;cA++){cC=cE[cA].call(cl,cv,bY.clone(),b3.clone(),cl.options.timezone,cG);if(cC===true){return}else{if(typeof cC=="object"){bU(cC,cG);return}}}var cI=cv.events;if(cI){if(bv.isFunction(cI)){cl.pushLoading();cI.call(cl,bY.clone(),b3.clone(),cl.options.timezone,function(cK){cG(cK);cl.popLoading()})}else{if(bv.isArray(cI)){cG(cI)}else{cG()}}}else{var cw=cv.url;if(cw){var cH=cv.success;var cD=cv.error;var cx=cv.complete;var cJ;if(bv.isFunction(cv.data)){cJ=cv.data()}else{cJ=cv.data}var cz=bv.extend({},cJ||{});var cB=U(cv.startParam,cl.options.startParam);var cy=U(cv.endParam,cl.options.endParam);var cF=U(cv.timezoneParam,cl.options.timezoneParam);if(cB){cz[cB]=bY.format()}if(cy){cz[cy]=b3.format()}if(cl.options.timezone&&cl.options.timezone!="local"){cz[cF]=cl.options.timezone}cl.pushLoading();bv.ajax(bv.extend({},G,cv,{data:cz,success:function(cL){cL=cL||[];var cK=x(cH,this,arguments);if(bv.isArray(cK)){cL=cK}cG(cL)},error:function(){x(cD,this,arguments);cG()},complete:function(){x(cx,this,arguments);cl.popLoading()}}))}else{cG()}}}function bW(cw){var cv=b8(cw);if(cv){ch.push(cv);ck([cv],"add")}}function b8(cy){var cw=w.sourceNormalizers;var cx;var cv;if(bv.isFunction(cy)||bv.isArray(cy)){cx={events:cy}}else{if(typeof cy==="string"){cx={url:cy}}else{if(typeof cy==="object"){cx=bv.extend({},cy)}}}if(cx){if(cx.className){if(typeof cx.className==="string"){cx.className=cx.className.split(/\s+/)}}else{cx.className=[]}if(bv.isArray(cx.events)){cx.origArray=cx.events;cx.events=bv.map(cx.events,function(cz){return bR(cz,cx)})}for(cv=0;cv<cw.length;cv++){cw[cv].call(cl,cx)}return cx}}function bQ(cv){bT(b9(cv))}function b5(cv){if(cv==null){bT(ch,true)}else{bT(cp(cv))}}function bT(cw,cv){var cx;for(cx=0;cx<cw.length;cx++){cm(cw[cx])}if(cv){ch=[];b1=[]}else{ch=bv.grep(ch,function(cy){for(cx=0;cx<cw.length;cx++){if(cy===cw[cx]){return false}}return true});b1=bP(b1,cw)}b2(b1)}function bZ(){return ch.slice(1)}function co(cv){return bv.grep(ch,function(cw){return cw.id&&cw.id===cv})[0]}function cp(cw){if(!cw){cw=[]}else{if(!bv.isArray(cw)){cw=[cw]}}var cv=[];var cx;for(cx=0;cx<cw.length;cx++){cv.push.apply(cv,b9(cw[cx]))}return cv}function b9(cx){var cv,cw;for(cv=0;cv<ch.length;cv++){cw=ch[cv];if(cw===cx){return[cw]}}cw=co(cx);if(cw){return[cw]}return bv.grep(ch,function(cy){return cd(cx,cy)})}function cd(cw,cv){return cw&&cv&&b0(cw)==b0(cv)}function b0(cv){return((typeof cv==="object")?(cv.origArray||cv.googleCalendarId||cv.url||cv.events):null)||cv}function bP(cv,cw){return bv.grep(cv,function(cy){for(var cx=0;cx<cw.length;cx++){if(cy.source===cw[cx]){return false}}return true})}function cg(cv){cv.start=cl.moment(cv.start);if(cv.end){cv.end=cl.moment(cv.end)}else{cv.end=null}bM(cv,bO(cv));b2(b1)}function bO(cw){var cv={};bv.each(cw,function(cx,cy){if(cj(cx)){if(cy!==undefined&&bq(cy)){cv[cx]=cy}}});return cv}function cj(cv){return !/^_|^(id|allDay|start|end)$/.test(cv)}function b4(cz,cv){var cw=bR(cz);var cy;var cx,cA;if(cw){cy=cu(cw);for(cx=0;cx<cy.length;cx++){cA=cy[cx];if(!cA.source){if(cv){bS.events.push(cA);cA.source=bS}b1.push(cA)}}b2(b1);return cy}return[]}function cq(cx){var cw;var cv;if(cx==null){cx=function(){return true}}else{if(!bv.isFunction(cx)){cw=cx+"";cx=function(cy){return cy._id==cw}}}b1=bv.grep(b1,cx,true);for(cv=0;cv<ch.length;cv++){if(bv.isArray(ch[cv].events)){ch[cv].events=bv.grep(ch[cv].events,cx,true)}}b2(b1)}function bX(cv){if(bv.isFunction(cv)){return bv.grep(b1,cv)}else{if(cv!=null){cv+="";return bv.grep(b1,function(cw){return cw._id==cv})}}return b1}cl.rezoneArrayEventSources=function(){var cx;var cw;var cv;for(cx=0;cx<ch.length;cx++){cw=ch[cx].events;if(bv.isArray(cw)){for(cv=0;cv<cw.length;cv++){ci(cw[cv])}}}};function ci(cv){cv.start=cl.moment(cv.start);if(cv.end){cv.end=cl.moment(cv.end)}B(cv)}function bR(cw,cz){var cx={};var cA,cv;var cy;if(cl.options.eventDataTransform){cw=cl.options.eventDataTransform(cw)}if(cz&&cz.eventDataTransform){cw=cz.eventDataTransform(cw)}bv.extend(cx,cw);if(cz){cx.source=cz}cx._id=cw._id||(cw.id===undefined?"_fc"+a0++:cw.id+"");if(cw.className){if(typeof cw.className=="string"){cx.className=cw.className.split(/\s+/)}else{cx.className=cw.className}}else{cx.className=[]}cA=cw.start||cw.date;cv=cw.end;if(ab(cA)){cA=a6.duration(cA)}if(ab(cv)){cv=a6.duration(cv)}if(cw.dow||a6.isDuration(cA)||a6.isDuration(cv)){cx.start=cA?a6.duration(cA):null;cx.end=cv?a6.duration(cv):null;cx._recurring=true}else{if(cA){cA=cl.moment(cA);if(!cA.isValid()){return false}}if(cv){cv=cl.moment(cv);if(!cv.isValid()){cv=null}}cy=cw.allDay;if(cy===undefined){cy=U(cz?cz.allDayDefault:undefined,cl.options.allDayDefault)}ca(cA,cv,cy,cx)}cl.normalizeEvent(cx);return cx}cl.buildEventFromInput=bR;function ca(cy,cv,cx,cw){cw.start=cy;cw.end=cv;cw.allDay=cx;cb(cw);B(cw)}function cb(cv){bV(cv);if(cv.end&&!cv.end.isAfter(cv.start)){cv.end=null}if(!cv.end){if(cl.options.forceEventDuration){cv.end=cl.getDefaultEventEnd(cv.allDay,cv.start)}else{cv.end=null}}}function bV(cv){if(cv.allDay==null){cv.allDay=!(cv.start.hasTime()||(cv.end&&cv.end.hasTime()))}if(cv.allDay){cv.start.stripTime();if(cv.end){cv.end.stripTime()}}else{if(!cv.start.hasTime()){cv.start=cl.applyTimezone(cv.start.time(0))}if(cv.end&&!cv.end.hasTime()){cv.end=cl.applyTimezone(cv.end.time(0))}}}function cu(cC,cF,cy){var cH=[];var cE;var cG;var cB;var cz;var cx,cD;var cw,cA;var cv;cF=cF||bY;cy=cy||b3;if(cC){if(cC._recurring){if((cG=cC.dow)){cE={};for(cB=0;cB<cG.length;cB++){cE[cG[cB]]=true}}cz=cF.clone().stripTime();while(cz.isBefore(cy)){if(!cE||cE[cz.day()]){cx=cC.start;cD=cC.end;cw=cz.clone();cA=null;if(cx){cw=cw.time(cx)}if(cD){cA=cz.clone().time(cD)}cv=bv.extend({},cC);ca(cw,cA,!cx&&!cD,cv);cH.push(cv)}cz.add(1,"days")}}else{cH.push(cC)}}return cH}cl.expandEvent=cu;function bM(cw,cF,cx){var cA={};var cE;var cv;var cy;var cB;var cD;var cz;function cC(cG,cH){if(cx){return d(cG,cH,cx)}else{if(cF.allDay){return ac(cG,cH)}else{return f(cG,cH)}}}cF=cF||{};if(!cF.start){cF.start=cw.start.clone()}if(cF.end===undefined){cF.end=cw.end?cw.end.clone():null}if(cF.allDay==null){cF.allDay=cw.allDay}cb(cF);cE={start:cw._start.clone(),end:cw._end?cw._end.clone():cl.getDefaultEventEnd(cw._allDay,cw._start),allDay:cF.allDay};cb(cE);cv=cw._end!==null&&cF.end===null;cy=cC(cF.start,cE.start);if(cF.end){cB=cC(cF.end,cE.end);cD=cB.subtract(cy)}else{cD=null}bv.each(cF,function(cG,cH){if(cj(cG)){if(cH!==undefined){cA[cG]=cH}}});cz=cc(bX(cw._id),cv,cF.allDay,cy,cD,cA);return{dateDelta:cy,durationDelta:cD,undo:cz}}function cc(cz,cC,cB,cA,cx,cy){var cw=cl.getIsAmbigTimezone();var cv=[];if(cA&&!cA.valueOf()){cA=null}if(cx&&!cx.valueOf()){cx=null}bv.each(cz,function(cE,cG){var cD;var cF;cD={start:cG.start.clone(),end:cG.end?cG.end.clone():null,allDay:cG.allDay};bv.each(cy,function(cH){cD[cH]=cG[cH]});cF={start:cG._start,end:cG._end,allDay:cB};cb(cF);if(cC){cF.end=null}else{if(cx&&!cF.end){cF.end=cl.getDefaultEventEnd(cF.allDay,cF.start)}}if(cA){cF.start.add(cA);if(cF.end){cF.end.add(cA)}}if(cx){cF.end.add(cx)}if(cw&&!cF.allDay&&(cA||cx)){cF.start.stripZone();if(cF.end){cF.end.stripZone()}}bv.extend(cG,cy,cF);B(cG);cv.push(function(){bv.extend(cG,cD);B(cG)})});return function(){for(var cD=0;cD<cv.length;cD++){cv[cD]()}}}cl.isEventSpanAllowed=ct;cl.isExternalSpanAllowed=ce;cl.isSelectionSpanAllowed=b6;function ct(cw,cx){var cy=cx.source||{};var cz=U(cx.constraint,cy.constraint,cl.options.eventConstraint);var cv=U(cx.overlap,cy.overlap,cl.options.eventOverlap);return bN(cw,cz,cv,cx)}function ce(cw,cz,cy){var cv;var cx;if(cy){cv=bv.extend({},cy,cz);cx=cu(bR(cv))[0]}if(cx){return ct(cw,cx)}else{return b6(cw)}}function b6(cv){return bN(cv,cl.options.selectConstraint,cl.options.selectOverlap)}function bN(cE,cx,cC,cw){var cv;var cy;var cA;var cz,cD;var cB;if(cx!=null){cv=cf(cx);cy=false;for(cz=0;cz<cv.length;cz++){if(cl.spanContainsSpan(cv[cz],cE)){cy=true;break}}if(!cy){return false}}cA=cl.getPeerEvents(cE,cw);for(cz=0;cz<cA.length;cz++){cD=cA[cz];if(cr(cD,cE)){if(cC===false){return false}else{if(typeof cC==="function"&&!cC(cD,cw)){return false}}if(cw){cB=U(cD.overlap,(cD.source||{}).overlap);if(cB===false){return false}if(typeof cB==="function"&&!cB(cw,cD)){return false}}}}return true}function cf(cv){if(cv==="businessHours"){return cl.getCurrentBusinessHourEvents()}if(typeof cv==="object"){return cu(bR(cv))}return bX(cv)}function cr(cy,cx){var cw=cy.start.clone().stripZone();var cv=cl.getEventEnd(cy).stripZone();return cx.start<cv&&cx.end>cw}cl.getEventCache=function(){return b1}}u.prototype.normalizeEvent=function(bK){};u.prototype.spanContainsSpan=function(bM,bN){var bL=bM.start.clone().stripZone();var bK=this.getEventEnd(bM).stripZone();return bN.start>=bL&&bN.end<=bK};u.prototype.getPeerEvents=function(bO,bP){var bL=this.getEventCache();var bK=[];var bN,bM;for(bN=0;bN<bL.length;bN++){bM=bL[bN];if(!bP||bP._id!==bM._id){bK.push(bM)}}return bK};function B(bK){bK._allDay=bK.allDay;bK._start=bK.start.clone();bK._end=bK.end?bK.end.clone():null}var bJ={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};u.prototype.getCurrentBusinessHourEvents=function(bK){return this.computeBusinessHourEvents(bK,this.options.businessHours)};u.prototype.computeBusinessHourEvents=function(bK,bL){if(bL===true){return this.expandBusinessHourEvents(bK,[{}])}else{if(bv.isPlainObject(bL)){return this.expandBusinessHourEvents(bK,[bL])}else{if(bv.isArray(bL)){return this.expandBusinessHourEvents(bK,bL,true)}else{return[]}}}};u.prototype.expandBusinessHourEvents=function(bK,bM,bQ){var bL=this.getView();var bP=[];var bO,bN;for(bO=0;bO<bM.length;bO++){bN=bM[bO];if(bQ&&!bN.dow){continue}bN=bv.extend({},bJ,bN);if(bK){bN.start=null;bN.end=null}bP.push.apply(bP,this.expandEvent(this.buildEventFromInput(bN),bL.start,bL.end))}return bP};var bs=w.BasicView=aR.extend({scroller:null,dayGridClass:by,dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new a7({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(bi);return new bK(this)},setRange:function(bK){aR.prototype.setRange.call(this,bK);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(bK)},computeRange:function(bL){var bK=aR.prototype.computeRange.call(this,bL);if(/year|month/.test(bK.intervalUnit)){bK.start.startOf("week");bK.start=this.skipHiddenDays(bK.start);if(bK.end.weekday()){bK.end.add(1,"week").startOf("week");bK.end=this.skipHiddenDays(bK.end,-1,true)}}return bK},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bL=this.scroller.el.addClass("fc-day-grid-container");var bK=bv('<div class="fc-day-grid" />').appendTo(bL);this.el.find(".fc-body > tr > td").append(bL);this.dayGrid.setElement(bK);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bK=this.opt("eventLimit");return bK&&typeof bK!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=R(this.el.find(".fc-week-number"))}},setHeight:function(bN,bK){var bL=this.opt("eventLimit");var bO;var bM;this.scroller.clear();H(this.headRowEl);this.dayGrid.removeSegPopover();if(bL&&typeof bL==="number"){this.dayGrid.limitRows(bL)}bO=this.computeScrollerHeight(bN);this.setGridHeight(bO,bK);if(bL&&typeof bL!=="number"){this.dayGrid.limitRows(bL)}if(!bK){this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){ap(this.headRowEl,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM)}},computeScrollerHeight:function(bK){return bK-q(this.el,this.scroller.el)},setGridHeight:function(bL,bK){if(bK){k(this.dayGrid.rowEls)}else{Y(this.dayGrid.rowEls,bL,true)}},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(bK){this.scroller.setScrollTop(bK)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bL,bK){return this.dayGrid.queryHit(bL,bK)},getHitSpan:function(bK){return this.dayGrid.getHitSpan(bK)},getHitEl:function(bK){return this.dayGrid.getHitEl(bK)},renderEvents:function(bK){this.dayGrid.renderEvents(bK);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bL,bK){return this.dayGrid.renderDrag(bL,bK)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bK){this.dayGrid.renderSelection(bK)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var bi={renderHeadIntroHtml:function(){var bK=this.view;if(bK.weekNumbersVisible){return'<th class="fc-week-number '+bK.widgetHeaderClass+'" '+bK.weekNumberStyleAttr()+"><span>"+aI(bK.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bL){var bK=this.view;if(bK.weekNumbersVisible){return'<td class="fc-week-number" '+bK.weekNumberStyleAttr()+"><span>"+this.getCellDate(bL,0).format("w")+"</span></td>"}return""},renderBgIntroHtml:function(){var bK=this.view;if(bK.weekNumbersVisible){return'<td class="fc-week-number '+bK.widgetContentClass+'" '+bK.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bK=this.view;if(bK.weekNumbersVisible){return'<td class="fc-week-number" '+bK.weekNumberStyleAttr()+"></td>"}return""}};var J=w.MonthView=bs.extend({computeRange:function(bL){var bK=bs.prototype.computeRange.call(this,bL);var bM;if(this.isFixedWeeks()){bM=Math.ceil(bK.end.diff(bK.start,"weeks",true));bK.end.add(6-bM,"weeks")}return bK},setGridHeight:function(bL,bK){bK=bK||this.opt("weekMode")==="variable";if(bK){bL*=this.rowCnt/6}Y(this.dayGrid.rowEls,bL,!bK)},isFixedWeeks:function(){var bK=this.opt("weekMode");if(bK){return bK==="fixed"}return this.opt("fixedWeekCount")}});X.basic={"class":bs};X.basicDay={type:"basic",duration:{days:1}};X.basicWeek={type:"basic",duration:{weeks:1}};X.month={"class":J,duration:{months:1},defaults:{fixedWeekCount:true}};var bH=w.AgendaView=aR.extend({scroller:null,timeGridClass:i,timeGrid:null,dayGridClass:by,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new a7({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var bK=this.timeGridClass.extend(bm);return new bK(this)},instantiateDayGrid:function(){var bK=this.dayGridClass.extend(br);return new bK(this)},setRange:function(bK){aR.prototype.setRange.call(this,bK);this.timeGrid.setRange(bK);if(this.dayGrid){this.dayGrid.setRange(bK)}},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bK=this.scroller.el.addClass("fc-time-grid-container");var bL=bv('<div class="fc-time-grid" />').appendTo(bK);this.el.find(".fc-body > tr > td").append(bK);this.timeGrid.setElement(bL);this.timeGrid.renderDates();this.bottomRuleEl=bv('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bK){this.timeGrid.renderNowIndicator(bK)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bK){this.timeGrid.updateSize(bK);aR.prototype.updateSize.call(this,bK)},updateWidth:function(){this.axisWidth=R(this.el.find(".fc-axis"))},setHeight:function(bN,bK){var bL;var bO;var bM;this.bottomRuleEl.hide();this.scroller.clear();H(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bL=this.opt("eventLimit");if(bL&&typeof bL!=="number"){bL=a3}if(bL){this.dayGrid.limitRows(bL)}}if(!bK){bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO);bM=this.scroller.getScrollbarWidths();if(bM.left||bM.right){ap(this.noScrollRowEls,bM);bO=this.computeScrollerHeight(bN);this.scroller.setHeight(bO)}this.scroller.lockOverflow(bM);if(this.timeGrid.getTotalSlatHeight()<bO){this.bottomRuleEl.show()}}},computeScrollerHeight:function(bK){return bK-q(this.el,this.scroller.el)},computeInitialScroll:function(){var bL=a6.duration(this.opt("scrollTime"));var bK=this.timeGrid.computeTimeTop(bL);bK=Math.ceil(bK);if(bK){bK++}return bK},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(bK){this.scroller.setScrollTop(bK)},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bM,bL){var bK=this.timeGrid.queryHit(bM,bL);if(!bK&&this.dayGrid){bK=this.dayGrid.queryHit(bM,bL)}return bK},getHitSpan:function(bK){return bK.component.getHitSpan(bK)},getHitEl:function(bK){return bK.component.getHitEl(bK)},renderEvents:function(bL){var bO=[];var bM=[];var bP=[];var bN;var bK;for(bK=0;bK<bL.length;bK++){if(bL[bK].allDay){bO.push(bL[bK])}else{bM.push(bL[bK])}}bN=this.timeGrid.renderEvents(bM);if(this.dayGrid){bP=this.dayGrid.renderEvents(bO)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bL,bK){if(bL.start.hasTime()){return this.timeGrid.renderDrag(bL,bK)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bL,bK)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bK){if(bK.start.hasTime()||bK.end.hasTime()){this.timeGrid.renderSelection(bK)}else{if(this.dayGrid){this.dayGrid.renderSelection(bK)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var bm={renderHeadIntroHtml:function(){var bK=this.view;var bL;if(bK.opt("weekNumbers")){bL=this.start.format(bK.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+"><span>"+aI(bL)+"</span></th>"}else{return'<th class="fc-axis '+bK.widgetHeaderClass+'" '+bK.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var br={renderBgIntroHtml:function(){var bK=this.view;return'<td class="fc-axis '+bK.widgetContentClass+'" '+bK.axisStyleAttr()+"><span>"+(bK.opt("allDayHtml")||aI(bK.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var bK=this.view;return'<td class="fc-axis" '+bK.axisStyleAttr()+"></td>"}};var a3=5;var aZ=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];X.agenda={"class":bH,defaults:{allDaySlot:true,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true}};X.agendaDay={type:"agenda",duration:{days:1}};X.agendaWeek={type:"agenda",duration:{weeks:1}};return w});PrimeFaces.widget.Schedule=PrimeFaces.widget.DeferredWidget.extend({init:function(a){this._super(a);this.cfg.formId=this.jq.closest("form").attr("id");this.cfg.theme=true;this.jqc=$(this.jqId+"_container");this.viewNameState=$(this.jqId+"_view");this.cfg.urlTarget=this.cfg.urlTarget||"_blank";if(this.cfg.defaultDate){this.cfg.defaultDate=moment(this.cfg.defaultDate)}this.setupEventSource();this.configureLocale();if(this.cfg.tooltip){this.tip=$('<div class="ui-tooltip ui-widget ui-widget-content ui-shadow ui-corner-all"></div>').appendTo(this.jq)}this.setupEventHandlers();if(this.cfg.extender){this.cfg.extender.call(this)}this.setViewOptions();this.renderDeferred()},_render:function(){this.jqc.fullCalendar(this.cfg);this.bindViewChangeListener()},configureLocale:function(){var a=PrimeFaces.locales[this.cfg.locale];if(a){this.cfg.firstDay=a.firstDay;this.cfg.monthNames=a.monthNames;this.cfg.monthNamesShort=a.monthNamesShort;this.cfg.dayNames=a.dayNames;this.cfg.dayNamesShort=a.dayNamesShort;this.cfg.buttonText={today:a.currentText,month:a.month,week:a.week,day:a.day};this.cfg.allDayText=a.allDayText;if(a.eventLimitText){this.cfg.eventLimitText=a.eventLimitText}}},setupEventHandlers:function(){var a=this;this.cfg.dayClick=function(b,d,c){if(a.cfg.behaviors){var f=a.cfg.behaviors.dateSelect;if(f){var e={params:[{name:a.id+"_selectedDate",value:b.valueOf()-b.zone()*60000}]};f.call(a,e)}}};this.cfg.eventClick=function(f,c,b){if(f.url){window.open(f.url,a.cfg.urlTarget);return false}if(a.cfg.behaviors){var e=a.cfg.behaviors.eventSelect;if(e){var d={params:[{name:a.id+"_selectedEventId",value:f.id}]};e.call(a,d)}}};this.cfg.eventDrop=function(i,h,f,d,g,c){if(a.cfg.behaviors){var b=a.cfg.behaviors.eventMove;if(b){var e={params:[{name:a.id+"_movedEventId",value:i.id},{name:a.id+"_dayDelta",value:h.days()},{name:a.id+"_minuteDelta",value:(h._milliseconds/60000)}]};b.call(a,e)}}};this.cfg.eventResize=function(i,h,f,c,g,b){if(a.cfg.behaviors){var d=a.cfg.behaviors.eventResize;if(d){var e={params:[{name:a.id+"_resizedEventId",value:i.id},{name:a.id+"_dayDelta",value:h.days()},{name:a.id+"_minuteDelta",value:(h._milliseconds/60000)}]};d.call(a,e)}}};if(this.cfg.tooltip){this.cfg.eventMouseover=function(d,c,b){if(d.description){a.tipTimeout=setTimeout(function(){a.tip.css({left:c.pageX,top:c.pageY+15,"z-index":++PrimeFaces.zindex}).html(d.description).show()},150)}};this.cfg.eventMouseout=function(d,c,b){if(a.tipTimeout){clearTimeout(a.tipTimeout)}if(a.tip.is(":visible")){a.tip.hide();a.tip.text("")}}}},setupEventSource:function(){var a=this,b=moment().zone()*60000;this.cfg.events=function(g,c,e,f){var d={source:a.id,process:a.id,update:a.id,formId:a.cfg.formId,params:[{name:a.id+"_start",value:g.valueOf()+b},{name:a.id+"_end",value:c.valueOf()+b}],onsuccess:function(j,h,i){PrimeFaces.ajax.Response.handle(j,h,i,{widget:a,handle:function(k){f($.parseJSON(k).events)}});return true}};PrimeFaces.ajax.Request.handle(d)}},update:function(){this.jqc.fullCalendar("refetchEvents")},bindViewChangeListener:function(){var a=this.jqc.find("> .fc-toolbar button:not(.fc-prev-button,.fc-next-button,.fc-today-button)"),b=this;a.each(function(d){var e=a.eq(d),f=e.attr("class").split(" ");for(var d=0;d<f.length;d++){var c=f[d].split("-");if(c.length===3){e.data("view",c[1]);break}}});a.on("click.schedule",function(){var c=$(this).data("view");b.viewNameState.val(c);if(b.cfg.behaviors){var d=b.cfg.behaviors.viewChange;if(d){d.call(b)}}})},setViewOptions:function(){var b={month:{},week:{},day:{},agenda:{},agendaDay:{},agendaWeek:{}};var c=this.cfg.columnFormatOptions;if(c){for(var a in b){b[a]={columnFormat:c[a]}}}this.cfg.views=b}});